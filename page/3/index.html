<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>✨✨✨ WLB! WLB! WLB! ✨✨✨😶‍🌫️</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="✨✨✨ WLB! WLB! WLB! ✨✨✨😶‍🌫️">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="✨✨✨ WLB! WLB! WLB! ✨✨✨😶‍🌫️">
<meta property="og:locale">
<meta property="article:author" content="EvelynUU">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="✨✨✨ WLB! WLB! WLB! ✨✨✨😶‍🌫️" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">✨✨✨ WLB! WLB! WLB! ✨✨✨😶‍🌫️</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">重要的事情说三遍</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-javascript_doc/014-垃圾回收机制详解" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/09/javascript_doc/014-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time class="dt-published" datetime="2025-06-09T05:49:07.000Z" itemprop="datePublished">2025-06-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/09/javascript_doc/014-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3/">014-垃圾回收机制详解</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="JavaScript-垃圾回收机制详解"><a href="#JavaScript-垃圾回收机制详解" class="headerlink" title="JavaScript 垃圾回收机制详解"></a>JavaScript 垃圾回收机制详解</h1><h2 id="一、内存管理基础"><a href="#一、内存管理基础" class="headerlink" title="一、内存管理基础"></a>一、内存管理基础</h2><h3 id="内存生命周期"><a href="#内存生命周期" class="headerlink" title="内存生命周期"></a>内存生命周期</h3><ol>
<li><strong>分配</strong>：创建变量、对象或函数时分配内存</li>
<li><strong>使用</strong>：程序读写内存的过程</li>
<li><strong>释放</strong>：不再需要时回收内存空间</li>
</ol>
<p>JavaScript 使用<strong>自动内存管理</strong>，开发者无需手动分配&#x2F;释放内存，由垃圾回收器（Garbage Collector）自动完成。</p>
<h2 id="二、垃圾回收核心算法"><a href="#二、垃圾回收核心算法" class="headerlink" title="二、垃圾回收核心算法"></a>二、垃圾回收核心算法</h2><h3 id="1-引用计数（Reference-Counting）-早期方案"><a href="#1-引用计数（Reference-Counting）-早期方案" class="headerlink" title="1. 引用计数（Reference Counting） - 早期方案"></a>1. 引用计数（Reference Counting） - 早期方案</h3><ul>
<li><strong>原理</strong>：跟踪每个值的引用次数</li>
<li><strong>回收条件</strong>：引用数为 0 时立即回收</li>
<li><strong>致命缺陷</strong>：无法处理循环引用</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 循环引用示例</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createCycle</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> objA = &#123;&#125;;</span><br><span class="line">  <span class="keyword">let</span> objB = &#123;&#125;;</span><br><span class="line">  </span><br><span class="line">  objA.<span class="property">ref</span> = objB;  <span class="comment">// objA 引用 objB</span></span><br><span class="line">  objB.<span class="property">ref</span> = objA;  <span class="comment">// objB 引用 objA</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;循环已创建&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">createCycle</span>();</span><br><span class="line"><span class="comment">// 函数执行后，objA 和 objB 互相引用，引用计数不为 0</span></span><br><span class="line"><span class="comment">// 但实际已无法访问，应被回收但无法被引用计数算法识别</span></span><br></pre></td></tr></table></figure>

<h3 id="2-标记-清除（Mark-and-Sweep）-现代主流方案"><a href="#2-标记-清除（Mark-and-Sweep）-现代主流方案" class="headerlink" title="2. 标记-清除（Mark-and-Sweep） - 现代主流方案"></a>2. 标记-清除（Mark-and-Sweep） - 现代主流方案</h3><ul>
<li><strong>原理</strong>：从根对象（全局对象）出发，标记所有可达对象，清除未标记对象</li>
<li><strong>执行阶段</strong>：<ol>
<li><strong>标记阶段</strong>：从根对象开始遍历并标记所有可达对象</li>
<li><strong>清除阶段</strong>：回收未被标记的内存块</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[垃圾回收启动] --&gt; B[标记阶段]</span><br><span class="line">    B --&gt; C[从根对象开始遍历]</span><br><span class="line">    C --&gt; D[标记所有可达对象]</span><br><span class="line">    D --&gt; E[清除阶段]</span><br><span class="line">    E --&gt; F[扫描整个堆]</span><br><span class="line">    F --&gt; G[释放未标记内存]</span><br><span class="line">    G --&gt; H[整理内存碎片 - 可选]</span><br></pre></td></tr></table></figure>

<h2 id="三、V8-引擎的垃圾回收实现"><a href="#三、V8-引擎的垃圾回收实现" class="headerlink" title="三、V8 引擎的垃圾回收实现"></a>三、V8 引擎的垃圾回收实现</h2><h3 id="内存分代管理"><a href="#内存分代管理" class="headerlink" title="内存分代管理"></a>内存分代管理</h3><p>V8 将堆内存分为两个区域：</p>
<table>
<thead>
<tr>
<th>区域</th>
<th>大小</th>
<th>对象特征</th>
<th>GC算法</th>
<th>执行频率</th>
</tr>
</thead>
<tbody><tr>
<td><strong>新生代</strong></td>
<td>1-8MB</td>
<td>存活时间短</td>
<td>Scavenge</td>
<td>高频率</td>
</tr>
<tr>
<td><strong>老生代</strong></td>
<td>较大</td>
<td>存活时间长</td>
<td>标记-清除&#x2F;标记-整理</td>
<td>低频率</td>
</tr>
</tbody></table>
<h3 id="新生代回收：Scavenge-算法"><a href="#新生代回收：Scavenge-算法" class="headerlink" title="新生代回收：Scavenge 算法"></a>新生代回收：Scavenge 算法</h3><ul>
<li><strong>内存布局</strong>：分为两个等大的 semi-space（From 和 To）</li>
<li><strong>回收过程</strong>：<ol>
<li>从根对象出发，标记活跃对象</li>
<li>将活跃对象复制到 To 空间</li>
<li>清空 From 空间</li>
<li>交换 From 和 To 空间角色</li>
</ol>
</li>
<li><strong>晋升机制</strong>：经历两次 GC 仍存活的对象移动到老生代</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 新生代 GC 过程示意</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">newGenerationGC</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 初始状态：From 空间有对象 A,B,C</span></span><br><span class="line">  <span class="keyword">let</span> <span class="title class_">From</span> = [A, B, C]; </span><br><span class="line">  <span class="keyword">let</span> <span class="title class_">To</span> = [];</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 标记阶段：假设 B 不可达</span></span><br><span class="line">  <span class="keyword">let</span> liveObjects = [A, C];</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 复制阶段</span></span><br><span class="line">  <span class="title class_">To</span> = [...liveObjects]; <span class="comment">// [A, C]</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 清空 From</span></span><br><span class="line">  <span class="title class_">From</span> = [];</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 空间交换</span></span><br><span class="line">  [<span class="title class_">From</span>, <span class="title class_">To</span>] = [<span class="title class_">To</span>, <span class="title class_">From</span>]; <span class="comment">// 现在 From = [A, C], To = []</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="老生代回收：标记-清除与标记-整理"><a href="#老生代回收：标记-清除与标记-整理" class="headerlink" title="老生代回收：标记-清除与标记-整理"></a>老生代回收：标记-清除与标记-整理</h3><ol>
<li><strong>标记阶段</strong>：深度优先遍历标记活跃对象</li>
<li><strong>清除阶段</strong>：回收死亡对象内存</li>
<li><strong>内存整理</strong>（可选）：解决内存碎片问题</li>
</ol>
<h3 id="优化策略"><a href="#优化策略" class="headerlink" title="优化策略"></a>优化策略</h3><ol>
<li><p><strong>增量标记（Incremental Marking）</strong></p>
<ul>
<li>将标记过程分解为多个小步骤</li>
<li>在 JS 执行间隙进行，减少停顿时间</li>
</ul>
</li>
<li><p><strong>惰性清理（Lazy Sweeping）</strong></p>
<ul>
<li>延迟清理过程，在程序空闲时执行</li>
<li>与增量标记配合减少卡顿</li>
</ul>
</li>
<li><p><strong>并发标记&#x2F;清理</strong></p>
<ul>
<li>在后台线程并行执行 GC 任务</li>
<li>完全不阻塞主线程</li>
</ul>
</li>
</ol>
<h2 id="四、常见内存泄漏场景与防范"><a href="#四、常见内存泄漏场景与防范" class="headerlink" title="四、常见内存泄漏场景与防范"></a>四、常见内存泄漏场景与防范</h2><h3 id="1-意外全局变量"><a href="#1-意外全局变量" class="headerlink" title="1. 意外全局变量"></a>1. 意外全局变量</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">leak</span>(<span class="params"></span>) &#123;</span><br><span class="line">  leakedVar = <span class="string">&#x27;这个变量会泄漏到全局&#x27;</span>; <span class="comment">// 缺少 var/let/const</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">globalVar</span> = <span class="string">&#x27;方法中的this指向全局&#x27;</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>防范</strong>：使用严格模式 <code>&#39;use strict&#39;</code></p>
<h3 id="2-未清理的定时器与回调"><a href="#2-未清理的定时器与回调" class="headerlink" title="2. 未清理的定时器与回调"></a>2. 未清理的定时器与回调</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> intervalId = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 即使不再需要，定时器仍保持回调引用</span></span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 需要时清除</span></span><br><span class="line"><span class="comment">// clearInterval(intervalId);</span></span><br></pre></td></tr></table></figure>

<h3 id="3-DOM-引用未释放"><a href="#3-DOM-引用未释放" class="headerlink" title="3. DOM 引用未释放"></a>3. DOM 引用未释放</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> elements = &#123;</span><br><span class="line">  <span class="attr">button</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myButton&#x27;</span>),</span><br><span class="line">  <span class="attr">image</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myImage&#x27;</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 即使从DOM移除，JS引用仍存在</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(elements.<span class="property">button</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解决方案：移除后置空引用</span></span><br><span class="line">elements.<span class="property">button</span> = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<h3 id="4-闭包保留不必要引用"><a href="#4-闭包保留不必要引用" class="headerlink" title="4. 闭包保留不必要引用"></a>4. 闭包保留不必要引用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createClosure</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> largeData = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">1000000</span>).<span class="title function_">fill</span>(<span class="string">&#x27;*&#x27;</span>); <span class="comment">// 大数组</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;闭包执行&#x27;</span>);</span><br><span class="line">    <span class="comment">// 实际未使用largeData，但仍被保留</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 优化：需要时显式释放</span></span><br><span class="line"><span class="keyword">let</span> closure = <span class="title function_">createClosure</span>();</span><br><span class="line">closure = <span class="literal">null</span>; <span class="comment">// 释放闭包引用</span></span><br></pre></td></tr></table></figure>

<h2 id="五、内存分析工具"><a href="#五、内存分析工具" class="headerlink" title="五、内存分析工具"></a>五、内存分析工具</h2><h3 id="Chrome-DevTools"><a href="#Chrome-DevTools" class="headerlink" title="Chrome DevTools"></a>Chrome DevTools</h3><ol>
<li><p><strong>Memory 面板</strong>：</p>
<ul>
<li>Heap Snapshot：堆内存快照分析</li>
<li>Allocation Timeline：内存分配时间线</li>
<li>Allocation Sampling：内存分配采样</li>
</ul>
</li>
<li><p><strong>Performance 面板</strong>：</p>
<ul>
<li>记录内存使用变化趋势</li>
<li>识别周期性内存泄漏</li>
</ul>
</li>
</ol>
<h3 id="Node-js-内存分析"><a href="#Node-js-内存分析" class="headerlink" title="Node.js 内存分析"></a>Node.js 内存分析</h3><ol>
<li><p><code>process.memoryUsage()</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(process.<span class="title function_">memoryUsage</span>());</span><br><span class="line"><span class="comment">/* 输出：</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">  rss: 24.5MB,     // 常驻内存</span></span><br><span class="line"><span class="comment">  heapTotal: 6.2MB, // 堆总量</span></span><br><span class="line"><span class="comment">  heapUsed: 4.3MB,  // 已使用堆</span></span><br><span class="line"><span class="comment">  external: 0.8MB   // V8管理的C++对象内存</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>--inspect</code> 标志：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node --inspect app.js</span><br></pre></td></tr></table></figure>
<p>连接 Chrome DevTools 进行内存分析</p>
</li>
</ol>
<h2 id="六、最佳实践"><a href="#六、最佳实践" class="headerlink" title="六、最佳实践"></a>六、最佳实践</h2><ol>
<li><p><strong>避免内存泄漏</strong>：</p>
<ul>
<li>及时清除定时器&#x2F;事件监听器</li>
<li>解除不必要的对象引用</li>
<li>使用弱引用（WeakMap&#x2F;WeakSet）</li>
</ul>
</li>
<li><p><strong>优化对象创建</strong>：</p>
<ul>
<li>复用对象而不是频繁创建新对象</li>
<li>避免在循环中创建函数</li>
</ul>
</li>
<li><p><strong>内存敏感操作</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 处理大数组时使用流式处理</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">processLargeArray</span>(<span class="params">array</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// 逐项处理而非创建新数组</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用对象池复用对象</span></span><br><span class="line"><span class="keyword">const</span> pool = &#123;</span><br><span class="line">  <span class="title function_">acquire</span>(<span class="params"></span>) &#123; <span class="comment">/* 获取对象 */</span> &#125;,</span><br><span class="line">  <span class="title function_">release</span>(<span class="params">obj</span>) &#123; <span class="comment">/* 放回对象池 */</span> &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>监控内存使用</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定期检查内存</span></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> mem = process.<span class="title function_">memoryUsage</span>();</span><br><span class="line">  <span class="keyword">if</span> (mem.<span class="property">heapUsed</span> &gt; <span class="number">100</span> * <span class="number">1024</span> * <span class="number">1024</span>) &#123;</span><br><span class="line">    <span class="comment">// 超过100MB时告警</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;内存使用过高！&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="number">5000</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="七、特殊数据结构"><a href="#七、特殊数据结构" class="headerlink" title="七、特殊数据结构"></a>七、特殊数据结构</h2><h3 id="弱引用（Weak-Reference）"><a href="#弱引用（Weak-Reference）" class="headerlink" title="弱引用（Weak Reference）"></a>弱引用（Weak Reference）</h3><ul>
<li><strong>WeakMap</strong>：键为弱引用（必须是对象）</li>
<li><strong>WeakSet</strong>：成员为弱引用</li>
<li><strong>特点</strong>：不阻止垃圾回收，不暴露可遍历接口</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> weakMap = <span class="keyword">new</span> <span class="title class_">WeakMap</span>();</span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">data</span>: <span class="string">&#x27;重要信息&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line">weakMap.<span class="title function_">set</span>(obj, <span class="string">&#x27;关联元数据&#x27;</span>);</span><br><span class="line">obj = <span class="literal">null</span>; <span class="comment">// 下次GC时会自动清除weakMap中的条目</span></span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>JavaScript 垃圾回收机制是现代浏览器的核心技术之一。理解其工作原理（特别是分代回收和标记-清除算法）对于编写高性能、低内存消耗的应用至关重要。通过合理使用内存分析工具、遵循最佳实践并警惕常见内存泄漏模式，开发者可以显著提升应用的内存使用效率。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/09/javascript_doc/014-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3/" data-id="cmbs36xv30014ywsddyhu77oi" data-title="014-垃圾回收机制详解" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/" rel="tag">Javascript</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-devops_doc/001-OpenShift-Web控制台部署运维总结" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/09/devops_doc/001-OpenShift-Web%E6%8E%A7%E5%88%B6%E5%8F%B0%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E6%80%BB%E7%BB%93/" class="article-date">
  <time class="dt-published" datetime="2025-06-09T05:57:51.000Z" itemprop="datePublished">2025-06-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DevOps/">DevOps</a>►<a class="article-category-link" href="/categories/DevOps/Openshift/">Openshift</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/09/devops_doc/001-OpenShift-Web%E6%8E%A7%E5%88%B6%E5%8F%B0%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E6%80%BB%E7%BB%93/">001-OpenShift Web控制台部署运维总结</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="OpenShift-Web控制台部署运维实战总结"><a href="#OpenShift-Web控制台部署运维实战总结" class="headerlink" title="OpenShift Web控制台部署运维实战总结"></a>OpenShift Web控制台部署运维实战总结</h1><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><p>OpenShift Web控制台是OpenShift容器平台的<strong>核心管理界面</strong>，提供：</p>
<ul>
<li>集群资源的可视化管理和监控</li>
<li>应用部署、扩展和生命周期管理</li>
<li>开发人员自助服务门户</li>
<li>多集群管理能力（4.6+版本）</li>
</ul>
<h2 id="2-部署实战"><a href="#2-部署实战" class="headerlink" title="2. 部署实战"></a>2. 部署实战</h2><h3 id="2-1-前置条件"><a href="#2-1-前置条件" class="headerlink" title="2.1 前置条件"></a>2.1 前置条件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 验证集群状态</span></span><br><span class="line">oc get clusterversion</span><br><span class="line">oc get nodes</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查控制台Operator状态</span></span><br><span class="line">oc get clusteroperator console</span><br></pre></td></tr></table></figure>

<h3 id="2-2-部署流程"><a href="#2-2-部署流程" class="headerlink" title="2.2 部署流程"></a>2.2 部署流程</h3><ol>
<li><strong>Operator安装</strong>（若未自动安装）：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">oc apply -f - &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">apiVersion: operators.coreos.com/v1</span></span><br><span class="line"><span class="string">kind: OperatorGroup</span></span><br><span class="line"><span class="string">metadata:</span></span><br><span class="line"><span class="string">  name: console-operator</span></span><br><span class="line"><span class="string">  namespace: openshift-console</span></span><br><span class="line"><span class="string">spec:</span></span><br><span class="line"><span class="string">  targetNamespaces:</span></span><br><span class="line"><span class="string">  - openshift-console</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br><span class="line">oc apply -f - &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">apiVersion: operators.coreos.com/v1alpha1</span></span><br><span class="line"><span class="string">kind: Subscription</span></span><br><span class="line"><span class="string">metadata:</span></span><br><span class="line"><span class="string">  name: console-operator</span></span><br><span class="line"><span class="string">  namespace: openshift-console</span></span><br><span class="line"><span class="string">spec:</span></span><br><span class="line"><span class="string">  channel: stable </span></span><br><span class="line"><span class="string">  name: console-operator</span></span><br><span class="line"><span class="string">  source: redhat-operators</span></span><br><span class="line"><span class="string">  sourceNamespace: openshift-marketplace</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>

<ol>
<li><strong>自定义配置</strong>：</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># console-config.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">operator.openshift.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Console</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">cluster</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">customization:</span></span><br><span class="line">    <span class="comment"># 自定义企业主题</span></span><br><span class="line">    <span class="attr">customLogoFile:</span></span><br><span class="line">      <span class="attr">key:</span> <span class="string">logo.svg</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">custom-logo</span></span><br><span class="line">    <span class="attr">customProductName:</span> <span class="string">&quot;企业容器云平台&quot;</span></span><br><span class="line">    <span class="comment"># 控制台超时配置（分钟）</span></span><br><span class="line">    <span class="attr">logoutRedirect:</span> <span class="string">&quot;https://example.com/logout&quot;</span></span><br><span class="line">  <span class="attr">providers:</span></span><br><span class="line">    <span class="comment"># 配置OIDC身份提供者</span></span><br><span class="line">    <span class="attr">oidc:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">clientID:</span> <span class="string">console-app</span></span><br><span class="line">        <span class="attr">clientSecret:</span> </span><br><span class="line">          <span class="attr">name:</span> <span class="string">console-oidc-secret</span></span><br><span class="line">        <span class="attr">issuer:</span> <span class="string">https://sso.example.com/auth/realms/master</span></span><br></pre></td></tr></table></figure>

<ol>
<li><strong>应用配置</strong>：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oc apply -f console-config.yaml</span><br></pre></td></tr></table></figure>

<h3 id="2-3-验证部署"><a href="#2-3-验证部署" class="headerlink" title="2.3 验证部署"></a>2.3 验证部署</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检查Pod状态</span></span><br><span class="line">oc get pods -n openshift-console</span><br><span class="line"></span><br><span class="line"><span class="comment"># 验证服务访问</span></span><br><span class="line">curl -kI https://$(oc get route console -n openshift-console -o jsonpath=<span class="string">&#x27;&#123;.spec.host&#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查Operator日志</span></span><br><span class="line">oc logs -n openshift-console deployment/console-operator</span><br></pre></td></tr></table></figure>

<h2 id="3-配置管理"><a href="#3-配置管理" class="headerlink" title="3. 配置管理"></a>3. 配置管理</h2><h3 id="3-1-身份认证集成"><a href="#3-1-身份认证集成" class="headerlink" title="3.1 身份认证集成"></a>3.1 身份认证集成</h3><table>
<thead>
<tr>
<th>认证方式</th>
<th>配置文件位置</th>
<th>关键参数</th>
</tr>
</thead>
<tbody><tr>
<td>OAuth&#x2F;OIDC</td>
<td><code>oauth.config.openshift.io</code></td>
<td>issuerURL, clientSecret</td>
</tr>
<tr>
<td>HTPasswd</td>
<td><code>htpasswd</code> Secret</td>
<td>username, password</td>
</tr>
<tr>
<td>LDAP</td>
<td><code>ldap</code> ConfigMap</td>
<td>url, bindDN, bindPassword</td>
</tr>
</tbody></table>
<h3 id="3-2-自定义主题"><a href="#3-2-自定义主题" class="headerlink" title="3.2 自定义主题"></a>3.2 自定义主题</h3><ol>
<li>创建ConfigMap包含自定义资源：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">oc create configmap custom-branding \</span><br><span class="line">  --from-file=logo=logo.svg \</span><br><span class="line">  --from-file=favicon.ico=favicon.ico \</span><br><span class="line">  --from-file=stylesheet.css=styles.css \</span><br><span class="line">  -n openshift-console</span><br></pre></td></tr></table></figure>

<ol>
<li>更新Console CRD：</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">customization:</span></span><br><span class="line">    <span class="attr">customLogoFile:</span></span><br><span class="line">      <span class="attr">key:</span> <span class="string">logo</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">custom-branding</span></span><br><span class="line">    <span class="attr">customStylesheet:</span></span><br><span class="line">      <span class="attr">key:</span> <span class="string">stylesheet.css</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">custom-branding</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-插件扩展"><a href="#3-3-插件扩展" class="headerlink" title="3.3 插件扩展"></a>3.3 插件扩展</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">console.openshift.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ConsolePlugin</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">custom-plugin</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">displayName:</span> <span class="string">&quot;监控仪表板&quot;</span></span><br><span class="line">  <span class="attr">service:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">console-plugin</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">9443</span></span><br><span class="line">    <span class="attr">basePath:</span> <span class="string">/</span></span><br></pre></td></tr></table></figure>

<h2 id="4-日常运维"><a href="#4-日常运维" class="headerlink" title="4. 日常运维"></a>4. 日常运维</h2><h3 id="4-1-监控与告警"><a href="#4-1-监控与告警" class="headerlink" title="4.1 监控与告警"></a>4.1 监控与告警</h3><p><strong>关键监控指标：</strong></p>
<ul>
<li><code>console_http_requests_total</code>：HTTP请求量</li>
<li><code>console_http_request_duration_seconds</code>：响应延迟</li>
<li><code>container_memory_usage_bytes</code>：容器内存使用</li>
<li><code>kube_pod_status_ready</code>：Pod就绪状态</li>
</ul>
<p><strong>核心告警规则：</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">alert:</span> <span class="string">ConsoleHighLatency</span></span><br><span class="line">  <span class="attr">expr:</span> <span class="string">histogram_quantile(0.95,</span> <span class="string">rate(console_http_request_duration_seconds_bucket[5m]))</span> <span class="string">&gt;</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">for:</span> <span class="string">5m</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">severity:</span> <span class="string">warning</span></span><br><span class="line">  <span class="attr">annotations:</span></span><br><span class="line">    <span class="attr">summary:</span> <span class="string">&quot;控制台高延迟&quot;</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&quot;控制台95%请求延迟超过2秒&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-2-日志管理"><a href="#4-2-日志管理" class="headerlink" title="4.2 日志管理"></a>4.2 日志管理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看实时日志</span></span><br><span class="line">oc logs -f deployment/console -n openshift-console</span><br><span class="line"></span><br><span class="line"><span class="comment"># 日志级别调整（临时）</span></span><br><span class="line">oc <span class="built_in">set</span> <span class="built_in">env</span> deployment/console -n openshift-console LOG_LEVEL=debug</span><br><span class="line"></span><br><span class="line"><span class="comment"># 持久化日志配置（EFK Stack）</span></span><br><span class="line">apiVersion: logging.openshift.io/v1</span><br><span class="line">kind: ClusterLogging</span><br><span class="line">spec:</span><br><span class="line">  managementState: Managed</span><br><span class="line">  collection:</span><br><span class="line">    logs:</span><br><span class="line">      <span class="built_in">type</span>: vector</span><br><span class="line">  visualization:</span><br><span class="line">    <span class="built_in">type</span>: kibana</span><br></pre></td></tr></table></figure>

<h3 id="4-3-备份与恢复"><a href="#4-3-备份与恢复" class="headerlink" title="4.3 备份与恢复"></a>4.3 备份与恢复</h3><p><strong>备份清单：</strong></p>
<ol>
<li>Console自定义配置：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oc get console cluster -o yaml &gt; console-backup.yaml</span><br></pre></td></tr></table></figure>

<ol>
<li>OAuth配置：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oc get oauth.config.openshift.io cluster -o yaml &gt; oauth-backup.yaml</span><br></pre></td></tr></table></figure>

<ol>
<li>自定义资源ConfigMap：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oc get configmap custom-branding -n openshift-console -o yaml &gt; branding-backup.yaml</span><br></pre></td></tr></table></figure>

<p><strong>恢复流程：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">oc apply -f console-backup.yaml</span><br><span class="line">oc apply -f oauth-backup.yaml</span><br><span class="line">oc apply -f branding-backup.yaml</span><br></pre></td></tr></table></figure>

<h2 id="5-故障排查指南"><a href="#5-故障排查指南" class="headerlink" title="5. 故障排查指南"></a>5. 故障排查指南</h2><h3 id="5-1-常见问题及解决方案"><a href="#5-1-常见问题及解决方案" class="headerlink" title="5.1 常见问题及解决方案"></a>5.1 常见问题及解决方案</h3><table>
<thead>
<tr>
<th>故障现象</th>
<th>排查命令</th>
<th>解决方案</th>
</tr>
</thead>
<tbody><tr>
<td>控制台无法访问</td>
<td><code>oc get route -n openshift-console</code><br><code>curl -vk https://console-url</code></td>
<td>检查路由、证书和网络策略</td>
</tr>
<tr>
<td>身份认证失败</td>
<td><code>oc get pods -n openshift-authentication</code><br><code>oc logs oauth-openshift-xxx</code></td>
<td>验证OAuth配置和身份提供者状态</td>
</tr>
<tr>
<td>控制台响应缓慢</td>
<td><code>oc adm top pods -n openshift-console</code><br><code>oc get events --sort-by=&#39;.lastTimestamp&#39;</code></td>
<td>扩展副本数或调整资源限制</td>
</tr>
<tr>
<td>自定义主题未生效</td>
<td><code>oc describe console cluster</code><br><code>oc get configmap custom-branding</code></td>
<td>检查ConfigMap挂载和权限</td>
</tr>
</tbody></table>
<h3 id="5-2-调试工具"><a href="#5-2-调试工具" class="headerlink" title="5.2 调试工具"></a>5.2 调试工具</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检查API服务状态</span></span><br><span class="line">oc get apiservices | grep console</span><br><span class="line"></span><br><span class="line"><span class="comment"># 诊断Operator健康状况</span></span><br><span class="line">oc describe clusteroperators console</span><br><span class="line"></span><br><span class="line"><span class="comment"># 浏览器端调试</span></span><br><span class="line"><span class="comment"># 访问 https://console-url/dashboards 查看性能指标</span></span><br></pre></td></tr></table></figure>

<h2 id="6-最佳实践"><a href="#6-最佳实践" class="headerlink" title="6. 最佳实践"></a>6. 最佳实践</h2><h3 id="6-1-安全加固"><a href="#6-1-安全加固" class="headerlink" title="6.1 安全加固"></a>6.1 安全加固</h3><ol>
<li><strong>启用TLS 1.3</strong>：</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">config.openshift.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">cluster</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">tlsSecurityProfile:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">Custom</span></span><br><span class="line">    <span class="attr">custom:</span></span><br><span class="line">      <span class="attr">ciphers:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">TLS_AES_128_GCM_SHA256</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">TLS_AES_256_GCM_SHA384</span></span><br><span class="line">      <span class="attr">minTLSVersion:</span> <span class="string">VersionTLS13</span></span><br></pre></td></tr></table></figure>

<ol>
<li><strong>RBAC最小权限原则</strong>：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">oc create clusterrole console-viewer \</span><br><span class="line">  --verb=get,list,watch \</span><br><span class="line">  --resource=pods,deployments,services</span><br><span class="line"></span><br><span class="line">oc adm policy add-cluster-role-to-group console-viewer developers</span><br></pre></td></tr></table></figure>

<h3 id="6-2-高可用配置"><a href="#6-2-高可用配置" class="headerlink" title="6.2 高可用配置"></a>6.2 高可用配置</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">console</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">openshift-console</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span>  <span class="comment"># 根据集群规模调整</span></span><br><span class="line">  <span class="attr">strategy:</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span></span><br><span class="line">      <span class="attr">maxSurge:</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">affinity:</span></span><br><span class="line">        <span class="attr">podAntiAffinity:</span></span><br><span class="line">          <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">labelSelector:</span></span><br><span class="line">              <span class="attr">matchExpressions:</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">app</span></span><br><span class="line">                <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">                <span class="attr">values:</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">console</span></span><br><span class="line">            <span class="attr">topologyKey:</span> <span class="string">&quot;kubernetes.io/hostname&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="6-3-性能优化"><a href="#6-3-性能优化" class="headerlink" title="6.3 性能优化"></a>6.3 性能优化</h3><ul>
<li><strong>资源限额</strong>：<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">resources:</span></span><br><span class="line">  <span class="attr">requests:</span></span><br><span class="line">    <span class="attr">memory:</span> <span class="string">&quot;512Mi&quot;</span></span><br><span class="line">    <span class="attr">cpu:</span> <span class="string">&quot;200m&quot;</span></span><br><span class="line">  <span class="attr">limits:</span></span><br><span class="line">    <span class="attr">memory:</span> <span class="string">&quot;1Gi&quot;</span></span><br><span class="line">    <span class="attr">cpu:</span> <span class="string">&quot;500m&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>浏览器缓存优化</strong>：<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> / &#123;</span><br><span class="line">  <span class="attribute">add_header</span> Cache-Control <span class="string">&quot;public, max-age=3600&quot;</span>;</span><br><span class="line">  <span class="attribute">gzip</span> <span class="literal">on</span>;</span><br><span class="line">  <span class="attribute">gzip_types</span> text/plain application/javascript application/x-javascript text/css;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="7-升级策略"><a href="#7-升级策略" class="headerlink" title="7. 升级策略"></a>7. 升级策略</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">    A[准备阶段] --&gt; B[备份关键配置]</span><br><span class="line">    B --&gt; C[验证升级路径]</span><br><span class="line">    C --&gt; D[升级Operator]</span><br><span class="line">    D --&gt; E[滚动更新控制台]</span><br><span class="line">    E --&gt; F[验收测试]</span><br><span class="line">    F --&gt; G[监控稳定性]</span><br><span class="line">    </span><br><span class="line">    subgraph 回滚计划</span><br><span class="line">        H[检查备份] --&gt; I[还原Console CR]</span><br><span class="line">        I --&gt; J[回滚Operator版本]</span><br><span class="line">    end</span><br></pre></td></tr></table></figure>

<p><strong>关键检查点：</strong></p>
<ol>
<li>检查Operator订阅通道：<code>oc get subscription console-operator -n openshift-console</code></li>
<li>验证兼容性矩阵：确保控制台版本与集群版本匹配</li>
<li>灰度升级策略：先升级非生产环境集群</li>
</ol>
<h2 id="8-总结"><a href="#8-总结" class="headerlink" title="8. 总结"></a>8. 总结</h2><p>OpenShift Web控制台运维核心要点：</p>
<ul>
<li><strong>自动化优先</strong>：通过Operator管理生命周期</li>
<li><strong>配置即代码</strong>：所有自定义通过CRD管理</li>
<li><strong>可观测性</strong>：建立完善的监控和日志体系</li>
<li><strong>安全纵深防御</strong>：网络隔离、RBAC、证书管理</li>
<li><strong>灾备能力</strong>：定期备份关键配置，制定回滚方案</li>
</ul>
<blockquote>
<p><strong>经验提示</strong>：生产环境每次变更前必须验证配置语法：<code>oc apply --dry-run=server -f console-config.yaml</code></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/09/devops_doc/001-OpenShift-Web%E6%8E%A7%E5%88%B6%E5%8F%B0%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4%E6%80%BB%E7%BB%93/" data-id="cmbs36xus0002ywsdcceuhb2k" data-title="001-OpenShift Web控制台部署运维总结" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Openshift/" rel="tag">Openshift</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-others_doc/001-MVC与MVVM架构对比" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/09/others_doc/001-MVC%E4%B8%8EMVVM%E6%9E%B6%E6%9E%84%E5%AF%B9%E6%AF%94/" class="article-date">
  <time class="dt-published" datetime="2025-06-09T15:59:12.000Z" itemprop="datePublished">2025-06-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Principles/">Principles</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/09/others_doc/001-MVC%E4%B8%8EMVVM%E6%9E%B6%E6%9E%84%E5%AF%B9%E6%AF%94/">001-MVC与MVVM架构对比</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="MVC-与-MVVM-架构对比"><a href="#MVC-与-MVVM-架构对比" class="headerlink" title="MVC 与 MVVM 架构对比"></a>MVC 与 MVVM 架构对比</h2><h3 id="MVC（后端概念）"><a href="#MVC（后端概念）" class="headerlink" title="MVC（后端概念）"></a>MVC（后端概念）</h3><ul>
<li>**M (Model)**：数据库中的数据  </li>
<li>**V (View)**：视图层（用户界面）  </li>
<li>**C (Controller)**：控制器（处理业务逻辑，协调 Model 和 View）</li>
</ul>
<hr>
<h3 id="MVVM（前端概念）"><a href="#MVVM（前端概念）" class="headerlink" title="MVVM（前端概念）"></a>MVVM（前端概念）</h3><ul>
<li>**M (Model)**：数据层（通过 Ajax 等获取的数据，存储在 <code>data</code> 中）  </li>
<li>**V (View)**：视图层（HTML 结构）  </li>
<li>**VM (ViewModel)**：  <ul>
<li>由 <code>new Vue()</code> 创建的实例对象  </li>
<li>作为 View 和 Model 的调度者  </li>
<li>实现数据的<strong>双向绑定</strong></li>
</ul>
</li>
</ul>
<hr>
<h2 id=""><a href="#" class="headerlink" title=""></a><img src="/../../images/MVC-MVVM.png" alt="MVVM"></h2><h3 id="MVVM-核心思想"><a href="#MVVM-核心思想" class="headerlink" title="MVVM 核心思想"></a>MVVM 核心思想</h3><p><strong>Model-View-ViewModel</strong> 是一种设计思想：  </p>
<ol>
<li><strong>Model</strong>：数据模型（含数据操作逻辑）  </li>
<li><strong>View</strong>：UI 组件（将数据渲染为界面）  </li>
<li><strong>ViewModel</strong>：  <ul>
<li>同步 View 和 Model 的中间层  </li>
<li>通过<strong>双向数据绑定</strong>自动连接 View 和 Model</li>
</ul>
</li>
</ol>
<h4 id="工作特点："><a href="#工作特点：" class="headerlink" title="工作特点："></a>工作特点：</h4><p>✅ View 和 Model <strong>无直接交互</strong>，需通过 ViewModel<br>✅ 数据变化自动同步：  </p>
<ul>
<li>Model 变化 → 立即反应到 View  </li>
<li>View 变化 → 自动同步到 Model<br>✅ <strong>无需手动操作 DOM</strong>，开发者专注业务逻辑</li>
</ul>
<hr>
<h3 id="MVC-vs-MVVM-区别"><a href="#MVC-vs-MVVM-区别" class="headerlink" title="MVC vs MVVM 区别"></a>MVC vs MVVM 区别</h3><table>
<thead>
<tr>
<th>特性</th>
<th>MVC</th>
<th>MVVM</th>
</tr>
</thead>
<tbody><tr>
<td><strong>数据同步</strong></td>
<td>需手动更新 View</td>
<td>自动双向绑定</td>
</tr>
<tr>
<td><strong>DOM 操作</strong></td>
<td>频繁操作 DOM</td>
<td>零 DOM 操作</td>
</tr>
<tr>
<td><strong>性能影响</strong></td>
<td>易引起性能下降</td>
<td>高效渲染</td>
</tr>
<tr>
<td><strong>核心组件</strong></td>
<td>Controller 处理逻辑</td>
<td>ViewModel 管理数据绑定</td>
</tr>
</tbody></table>
<hr>
<h3 id="MVVM-vs-jQuery-区别"><a href="#MVVM-vs-jQuery-区别" class="headerlink" title="MVVM vs jQuery 区别"></a>MVVM vs jQuery 区别</h3><table>
<thead>
<tr>
<th>维度</th>
<th>jQuery</th>
<th>MVVM (如 Vue)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>开发模式</strong></td>
<td>命令式 DOM 操作</td>
<td>数据驱动视图</td>
</tr>
<tr>
<td><strong>数据管理</strong></td>
<td>手动维护状态</td>
<td>自动状态同步</td>
</tr>
<tr>
<td><strong>代码组织</strong></td>
<td>易产生冗余代码</td>
<td>组件化+响应式数据流</td>
</tr>
</tbody></table>
<hr>
<h3 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h3><ol>
<li><p><strong>适合 MVVM 的场景</strong>：  </p>
<ul>
<li>数据操作复杂的应用（如表单、实时仪表盘）  </li>
<li>需要高效视图更新的 SPA（单页应用）  </li>
<li>追求开发效率的中大型项目</li>
</ul>
</li>
<li><p><strong>适合 jQuery 的场景</strong>：  </p>
<ul>
<li>轻度交互的静态页面  </li>
<li>需快速实现简单动画&#x2F;效果  </li>
<li>遗留系统维护</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>核心总结</strong>：<br>MVVM 通过数据绑定解决了 MVC 的 <strong>DOM 性能瓶颈</strong>，适用于数据驱动型应用；<br>MVC 的 Controller 在 MVVM 中进化为 ViewModel，实现关注点分离。</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/09/others_doc/001-MVC%E4%B8%8EMVVM%E6%9E%B6%E6%9E%84%E5%AF%B9%E6%AF%94/" data-id="cmbs36xuq0001ywsdfwu1agml" data-title="001-MVC与MVVM架构对比" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Principles/" rel="tag">Principles</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-css_doc/001-布局-伪元素-CSS3动画-实战" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/09/css_doc/001-%E5%B8%83%E5%B1%80-%E4%BC%AA%E5%85%83%E7%B4%A0-CSS3%E5%8A%A8%E7%94%BB-%E5%AE%9E%E6%88%98/" class="article-date">
  <time class="dt-published" datetime="2025-06-09T15:59:12.000Z" itemprop="datePublished">2025-06-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CSS/">CSS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/09/css_doc/001-%E5%B8%83%E5%B1%80-%E4%BC%AA%E5%85%83%E7%B4%A0-CSS3%E5%8A%A8%E7%94%BB-%E5%AE%9E%E6%88%98/">001-布局-伪元素-CSS3动画-实战</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="CSS-Spotlight-文字动画效果解析"><a href="#CSS-Spotlight-文字动画效果解析" class="headerlink" title="CSS Spotlight 文字动画效果解析"></a>CSS Spotlight 文字动画效果解析</h1><p>![spotlight] (..&#x2F;..&#x2F;images&#x2F;spotlight.jpg)</p>
<h2 id="效果分层"><a href="#效果分层" class="headerlink" title="效果分层"></a>效果分层</h2><ol>
<li><strong>简单的结构样式搭建</strong>：使用Flex布局实现居中显示  </li>
<li><strong>用伪元素快速复制图层</strong>：创建文字副本用于特效处理  </li>
<li><strong>用background-clip制造出彩虹文字</strong>：<code>background-clip: text</code> 实现渐变文字  </li>
<li><strong>用clip-path制作灯光效果</strong>：<code>clip-path</code> 创建动态灯光效果</li>
</ol>
<h2 id="完整代码实现"><a href="#完整代码实现" class="headerlink" title="完整代码实现"></a>完整代码实现</h2><h3 id="HTML结构"><a href="#HTML结构" class="headerlink" title="HTML结构"></a>HTML结构</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>002<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;index.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>SPOTLIGHT<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="CSS样式"><a href="#CSS样式" class="headerlink" title="CSS样式"></a>CSS样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 清除页面中的margin和padding */</span></span><br><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#222</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* flex布局：body元素采用flex布局后，它变为flex容器 */</span></span><br><span class="line">    <span class="attribute">display</span>:flex;</span><br><span class="line">    <span class="comment">/* 设置容器的属性justify-content，定义横向对齐方式，属性值为center居中 */</span></span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="comment">/* 设置容器的属性align-items，定义纵向对齐方式，属性值为center（交叉轴的中点对齐） */</span></span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">   </span><br><span class="line">    <span class="comment">/* CSS尺寸（Dimension）属性，min-height设置元素最小高度 */</span></span><br><span class="line">    <span class="comment">/* CSS长度单位，这里vh是视窗高度（viewpoint height），1vh=视窗高度的1%，即占用100%的当前浏览器视窗高度 */</span></span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#333</span>;</span><br><span class="line">    <span class="comment">/* 调字体大小，这里要注意em\rem的区别 */</span></span><br><span class="line">    <span class="comment">/* 这里rem作用于非根元素，相对于的是根元素字体大小（font-size），所以为html默认的16px*8=128px */</span></span><br><span class="line">    <span class="comment">/* 如果是作用于根元素html，相对于原始大小（16px），所以html的font-size为16px*i */</span></span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">8rem</span>;</span><br><span class="line">    <span class="comment">/* position属性 */</span></span><br><span class="line">    <span class="comment">/* 作为flex成员，当前元素居中显示，且这里将相对定位元素作为了绝对定位元素的容器块 */</span></span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 伪元素 */</span></span><br><span class="line"><span class="comment">/* :after是CSS选择器，这里指在每个&lt;h1&gt;元素之后插入内容 */</span></span><br><span class="line"><span class="selector-tag">h1</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="comment">/* content 属性与 :before 及 :after 伪元素配合使用，来插入生成内容 */</span></span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&#x27;SPOTLIGHT&#x27;</span>;</span><br><span class="line">    <span class="comment">/* transparent是全透明黑色(black)的速记法，即一个类似rgba(0,0,0,0)这样的值 */</span></span><br><span class="line">    <span class="attribute">color</span>:transparent;</span><br><span class="line">    <span class="comment">/* 采用绝对定位，相对于最近的已定位父元素，这里就是相对于&lt;h1&gt;上部和左部都不偏移 */</span></span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* 语法--background-image: linear-gradient(direction, color-stop1, color-stop2, ...); */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(left,<span class="number">#d43f3a</span>,<span class="number">#f0ad4e</span>,<span class="number">#f7ecb5</span>,<span class="number">#5cb85c</span>,<span class="number">#66afe9</span>,<span class="number">#2e6da4</span>,<span class="number">#761c19</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* background-clip: border-box|padding-box|content-box;设置元素的背景（背景图片或颜色）的填充规则 */</span></span><br><span class="line">    <span class="comment">/* border-box:默认值。背景绘制在边框方框内（剪切成边框方框） */</span></span><br><span class="line">    <span class="comment">/* padding-box:边框下面没有背景，即背景延伸到内边距外沿 */</span></span><br><span class="line">    <span class="comment">/* content-box:背景剪裁到内容区外沿 */</span></span><br><span class="line">    <span class="comment">/* text:目前只有chorme支持，意思是，以区块内的文字作为裁剪区域向外裁剪，文字的背景即为区块的背景，文字之外的区域都将被裁剪掉 */</span></span><br><span class="line">    -webkit-<span class="attribute">background-clip</span>:text;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* clip-path属性使用裁剪方式创建元素的可显示区域。区域内的部分显示，区域外的隐藏 */</span></span><br><span class="line">    <span class="comment">/* &lt;circle()&gt; = circle( [ &lt;shape-radius&gt; ]? [ at &lt;position&gt; ]? ) */</span></span><br><span class="line">    <span class="comment">/* circle()可以传2可选参数：1、圆的半径，默认元素宽高中短的那个为直径，支持百分比；2. 圆心位置，默认为元素中心点 */</span></span><br><span class="line">    <span class="attribute">clip-path</span>: <span class="built_in">circle</span>(<span class="number">100px</span> at <span class="number">0%</span> <span class="number">50%</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* CSS3动画 */</span></span><br><span class="line">    <span class="attribute">animation</span>: light <span class="number">5s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* @keyframes 规则是创建动画 */</span></span><br><span class="line"><span class="comment">/* @keyframes 规则内指定一个 CSS 样式和动画将逐步从目前的样式更改为新的样式 */</span></span><br><span class="line"><span class="keyword">@keyframes</span> light &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">clip-path</span>: <span class="built_in">circle</span>(<span class="number">100px</span> at <span class="number">0%</span> <span class="number">50%</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">        <span class="attribute">clip-path</span>: <span class="built_in">circle</span>(<span class="number">100px</span> at <span class="number">100%</span> <span class="number">50%</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">clip-path</span>: <span class="built_in">circle</span>(<span class="number">100px</span> at <span class="number">0%</span> <span class="number">50%</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h3><p>暂未涉及</p>
<h2 id="重点知识"><a href="#重点知识" class="headerlink" title="重点知识"></a>重点知识</h2><h3 id="1-Flex布局（弹性布局）"><a href="#1-Flex布局（弹性布局）" class="headerlink" title="1. Flex布局（弹性布局）"></a>1. Flex布局（弹性布局）</h3><p>布局的传统解决方案，基于盒状模型，依赖 <code>display</code>属性 + <code>position</code>属性 + <code>float</code>属性。它对于那些特殊布局非常不方便，比如，垂直居中就不容易实现。</p>
<p>W3C提出了一种新的方案—Flex布局，可以简便、完整、响应式地实现各种页面布局。目前，它已经得到了所有浏览器的支持。</p>
<p><strong>特征</strong>：</p>
<ol>
<li>任何一个容器、行内元素都可以指定为Flex布局；</li>
<li>设为Flex布局以后，子元素的<code>float</code>、<code>clear</code>和<code>vertical-align</code>属性将失效；</li>
</ol>
<p><strong>基本概念</strong>：<br>采用Flex布局的元素，称为Flex容器（flex container），简称”容器”。<br>它的所有子元素自动成为容器成员，称为Flex项目（flex item），简称”项目”。<br>容器默认存在两根轴：水平的主轴（main axis）和垂直的交叉轴（cross axis）。<br>主轴的开始位置（与边框的交叉点）叫做main start，结束位置叫做main end；<br>交叉轴的开始位置叫做cross start，结束位置叫做cross end。<br>项目默认沿主轴排列。单个项目占据的主轴空间叫做main size，占据的交叉轴空间叫做cross size。<br><img src="/../../images/flex.jpg" alt="flex container"></p>
<p><strong>容器的属性</strong>：</p>
<ul>
<li><p><code>flex-direction</code>：决定主轴的方向（即项目的排列方向）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row | row-reverse | column | column-reverse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>取值：</p>
<ul>
<li><code>row</code>（默认值）：主轴为水平方向，起点在左端</li>
<li><code>row-reverse</code>：主轴为水平方向，起点在右端</li>
<li><code>column</code>：主轴为垂直方向，起点在上沿</li>
<li><code>column-reverse</code>：主轴为垂直方向，起点在下沿</li>
</ul>
</li>
<li><p><code>flex-wrap</code>：默认情况下，项目都排在一条线（又称”轴线”）上。flex-wrap属性定义，如果一条轴线排不下，如何换行</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: nowrap | wrap | wrap-reverse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>取值：</p>
<ul>
<li><code>nowrap</code>（默认）：不换行</li>
<li><code>wrap</code>：换行，第一行在上方</li>
<li><code>wrap-reverse</code>：换行，第一行在下方</li>
</ul>
</li>
<li><p><code>flex-flow</code>：是flex-direction属性和flex-wrap属性的简写形式，默认值为<code>row nowrap</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123; </span><br><span class="line">  <span class="attribute">flex-flow</span>: &lt;flex-direction&gt; &lt;flex-wrap&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>justify-content</code>（常用）：定义了项目在主轴上的对齐方式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">justify-content</span>: flex-start | flex-end | center | space-between | space-around;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>它可能取5个值，具体对齐方式与轴的方向有关。下面假设主轴为从左到右：</p>
<ul>
<li><code>flex-start</code>（默认值）：左对齐</li>
<li><code>flex-end</code>：右对齐</li>
<li><code>center</code>：居中（常用）</li>
<li><code>space-between</code>：两端对齐，项目之间的间隔都相等</li>
<li><code>space-around</code>：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍</li>
</ul>
</li>
<li><p><code>align-items</code>（常用）：定义项目在交叉轴上如何对齐</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>它可能取5个值。具体的对齐方式与交叉轴的方向有关，下面假设交叉轴从上到下：</p>
<ul>
<li><code>flex-start</code>：交叉轴的起点对齐</li>
<li><code>flex-end</code>：交叉轴的终点对齐</li>
<li><code>center</code>：交叉轴的中点对齐</li>
<li><code>baseline</code>: 项目的第一行文字的基线对齐</li>
<li><code>stretch</code>（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度</li>
</ul>
</li>
<li><p><code>align-content</code>：定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">align-content</span>: flex-start | flex-end | center | space-between | space-around | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>属性可能取6个值：</p>
<ul>
<li><code>flex-start</code>：与交叉轴的起点对齐</li>
<li><code>flex-end</code>：与交叉轴的终点对齐</li>
<li><code>center</code>：与交叉轴的中点对齐</li>
<li><code>space-between</code>：与交叉轴两端对齐，轴线之间的间隔平均分布</li>
<li><code>space-around</code>：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍</li>
<li><code>stretch</code>（默认值）：轴线占满整个交叉轴</li>
</ul>
</li>
</ul>
<p><strong>项目（容器内的flex元素）的属性</strong>：</p>
<ul>
<li><p><code>order</code>：定义项目的排列顺序。数值越小，排列越靠前，默认为0</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">order</span>: &lt;integer&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>flex-grow</code>：定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-grow</span>: &lt;number&gt;; <span class="comment">/* default 0 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果所有项目的flex-grow属性都为1，则它们将等分剩余空间；<br>如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍</p>
</li>
<li><p><code>flex-shrink</code>：定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-shrink</span>: &lt;number&gt;; <span class="comment">/* default 1 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小<br>如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小<br>负值对该属性无效</p>
</li>
<li><p><code>flex-basis</code>：定义了在分配多余空间之前，项目占据的主轴空间（main size）。它的默认值为auto，即项目的本来大小</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex-basis</span>: &lt;length&gt; | auto; <span class="comment">/* default auto */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以设为跟width或height属性一样的值（比如350px），则项目将占据固定空间</p>
</li>
<li><p><code>flex</code>：flex属性是flex-grow（放大比例）, flex-shrink（缩小比例） 和 flex-basis（分配空间前占的主轴空间）的简写，默认值为<code>0 1 auto</code>。后两个属性可选</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: none | [ &lt;<span class="string">&#x27;flex-grow&#x27;</span>&gt; &lt;<span class="string">&#x27;flex-shrink&#x27;</span>&gt;? || &lt;<span class="string">&#x27;flex-basis&#x27;</span>&gt; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该属性有两个快捷值：<code>auto (1 1 auto)</code> 和 <code>none (0 0 auto)</code><br>建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值</p>
</li>
<li><p><code>align-self</code>：允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">align-self</span>: auto | flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该属性可能取6个值，除了auto，其他都与align-items属性完全一致</p>
</li>
</ul>
<p><strong>flex布局练习题</strong>：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.flex</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">3</span> <span class="number">0</span> <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">2</span> <span class="number">0</span> <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>问：下列布局在页面上的宽度比是多少？</p>
<p>答：由于flex属性是flex-grow（放大比例）, flex-shrink（缩小比例） 和 flex-basis（分配空间前占的主轴空间）的简写。先计算基础值，left占50，right占100，剩下50, 50按比例分配，left占3份，right占2份，所以left的宽度为50+50<em>5&#x2F;3 &#x3D; 80,right的宽度为100+50</em>5&#x2F;2 &#x3D; 120, left:right &#x3D; 80:120&#x3D;2:3。</p>
<h3 id="2-CSS尺寸属性"><a href="#2-CSS尺寸属性" class="headerlink" title="2. CSS尺寸属性"></a>2. CSS尺寸属性</h3><p>CSS 尺寸 (Dimension) 属性允许你控制元素的高度和宽度。同样，它允许你增加行间距。</p>
<p>所有CSS尺寸属性：</p>
<ul>
<li><code>height</code>：设置元素的高度</li>
<li><code>width</code>：设置元素的宽度</li>
<li><code>line-height</code>：设置行高</li>
<li><code>max-height</code>：设置元素的最大高度</li>
<li><code>max-width</code>：设置元素最大宽度</li>
<li><code>min-height</code>：设置元素的最小高度</li>
<li><code>min-width</code>：设置元素最小宽度</li>
</ul>
<h3 id="3-CSS长度单位"><a href="#3-CSS长度单位" class="headerlink" title="3. CSS长度单位"></a>3. CSS长度单位</h3><p>基本信息：</p>
<ul>
<li>一些设置 CSS 长度的属性有 width, margin, padding, font-size, border-width, 等</li>
<li>数字与单位之间不能出现空格。如果长度值为 0，则可以省略单位</li>
<li>对于一些 CSS 属性，长度可以是负数</li>
<li>有两种类型的长度单位：相对和绝对</li>
</ul>
<p><strong>绝对长度</strong>：<br>绝对长度单位是一个固定的值，它反应一个真实的物理尺寸。绝对长度单位视输出介质而定，不依赖于环境（显示器、分辨率、操作系统等）</p>
<p><strong>相对长度</strong>：<br>相对长度单位指定了一个长度相对于另一个长度的属性。对于不同的设备相对长度更适用</p>
<h3 id="4-position属性"><a href="#4-position属性" class="headerlink" title="4. position属性"></a>4. position属性</h3><p>指定一个元素（静态的，相对的，绝对或固定）的定位方法的类型。</p>
<p>元素可以使用的顶部，底部，左侧和右侧属性定位。然而，这些属性无法工作，除非是先设定position属性。他们也有不同的工作方式，这取决于定位方法。</p>
<p><strong>position属性的五个值</strong>：</p>
<ul>
<li><p><code>static</code>：</p>
<ul>
<li>HTML 元素的默认值，即没有定位，遵循正常的文档流对象</li>
<li>静态定位的元素不会受到 top, bottom, left, right影响</li>
</ul>
</li>
<li><p><code>relative</code>：</p>
<ul>
<li>相对定位元素的定位是相对其正常位置</li>
<li>移动相对定位元素，但它原本所占的空间不会改变</li>
<li>相对定位元素经常被用来作为绝对定位元素的容器块</li>
</ul>
</li>
<li><p><code>fixed</code>：</p>
<ul>
<li>元素的位置相对于浏览器窗口是固定位置</li>
<li>即使窗口是滚动的它也不会移动</li>
<li>Fixed定位使元素的位置与文档流无关，因此不占据空间</li>
<li>Fixed定位的元素和其他元素重叠</li>
</ul>
</li>
<li><p><code>absolute</code>：</p>
<ul>
<li>绝对定位的元素的位置相对于最近的已定位父元素，如果元素没有已定位的父元素，那么它的位置相对于<html></li>
<li>absolute 定位使元素的位置与文档流无关，因此不占据空间</li>
<li>absolute 定位的元素和其他元素重叠</li>
</ul>
</li>
<li><p><code>sticky</code>：</p>
<ul>
<li><code>position: sticky;</code> 基于用户的滚动位置来定位</li>
<li>粘性定位的元素是依赖于用户的滚动，在 <code>position:relative</code> 与 <code>position:fixed</code> 定位之间切换</li>
<li>它的行为就像 <code>position:relative;</code> 而当页面滚动超出目标区域时，它的表现就像 <code>position:fixed;</code>，它会固定在目标位置</li>
<li>元素定位表现为在跨越特定阈值前为相对定位，之后为固定定位</li>
<li>这个特定阈值指的是 top, right, bottom 或 left 之一，换言之，指定 top, right, bottom 或 left 四个阈值其中之一，才可使粘性定位生效。否则其行为与相对定位相同</li>
</ul>
</li>
</ul>
<p><strong>元素重叠情况</strong>：</p>
<ul>
<li>元素的定位与文档流无关，所以它们可以覆盖页面上的其它元素</li>
<li><code>z-index</code>属性指定了一个元素的堆叠顺序（哪个元素应该放在前面，或后面）</li>
<li>一个元素可以有正数或负数的堆叠顺序</li>
<li>具有更高堆叠顺序的元素总是在较低的堆叠顺序元素的前面</li>
</ul>
<h3 id="5-CSS伪元素"><a href="#5-CSS伪元素" class="headerlink" title="5. CSS伪元素"></a>5. CSS伪元素</h3><p>CSS伪元素是用来添加一些选择器的特殊效果。</p>
<p><strong>伪类和伪元素区别</strong>：</p>
<ul>
<li><p>伪类：<code>:hover</code>, <code>:active</code> (元素状态)</p>
<ul>
<li>CSS伪类是用来添加一些选择器的特殊效果。伪类选择元素基于的是当前元素处于的状态，或者说元素当前所具有的特性，而不是元素的id、class、属性等静态的标志。由于状态是动态变化的，所以一个元素达到一个特定状态时，它可能得到一个伪类的样式；当状态改变时，它又会失去这个样式</li>
<li>注意考点：<ul>
<li>在CSS定义中，a:hover 必须被置于 a:link 和 a:visited 之后，才是有效的</li>
<li>在CSS定义中，a:active 必须被置于 a:hover 之后，才是有效的</li>
</ul>
</li>
</ul>
</li>
<li><p>伪元素：<code>::after</code>, <code>::before</code> (创建虚拟元素)</p>
<ul>
<li>与伪类针对特殊状态的元素不同的是，伪元素是对元素中的特定内容进行操作，它所操作的层次比伪类更深了一层，也因此它的动态性比伪类要低得多</li>
<li>实际上，设计伪元素的目的就是去选取诸如元素内容第一个字（母）、第一行，选取某些内容前面或后面这种普通的选择器无法完成的工作</li>
<li>它控制的内容实际上和元素是相同的，但是它本身只是基于元素的抽象，并不存在于文档中，所以叫伪元素</li>
</ul>
</li>
</ul>
<h3 id="6-CSS3动画"><a href="#6-CSS3动画" class="headerlink" title="6. CSS3动画"></a>6. CSS3动画</h3><p><strong>@keyframes 规则</strong>：<br>@keyframes 规则是创建动画。<br>@keyframes 规则内指定一个 CSS 样式和动画将逐步从目前的样式更改为新的样式。<br>当在 <code>@keyframes</code> 创建动画，把它绑定到一个选择器，否则动画不会有任何效果。</p>
<p><strong>CSS3动画</strong>：</p>
<ul>
<li>动画是使元素从一种样式逐渐变化为另一种样式的效果</li>
<li>请用百分比来规定变化发生的时间，或用关键词 “from” 和 “to”，等同于 0% 和 100%</li>
<li>0% 是动画的开始，100% 是动画的完成。为了得到最佳的浏览器支持，应该始终定义 0% 和 100% 选择器</li>
</ul>
<p><strong>animation属性语法</strong>：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">animation</span>: name duration timing-function delay iteration-count direction fill-mode play-state;</span><br></pre></td></tr></table></figure>

<h3 id="7-Grid布局"><a href="#7-Grid布局" class="headerlink" title="7. Grid布局"></a>7. Grid布局</h3><p>既然说了flex布局，下面来讲一下grid:</p>
<p><strong>基本概念</strong>：</p>
<ul>
<li>网格容器：所有网格元素的直接父元素，且上面要定义<code>display：grid</code>属性</li>
<li>网格项：是网格容器的直接子元素（间接子元素就不属于网格项）</li>
<li>网格线：组成网格结构的分割线，垂直或水平，位于行或列的任意一侧</li>
<li>网格单元：两个相邻行和两个相邻列网格线之间的空间，是网格线的基本单位</li>
<li>网格轨迹：两个相邻的网格线之间的间隔，可视为网格的行或列</li>
<li>网格区域：四条线包围的总空间（例如行网格线1、3和列网格线1、3之间的网格区域）</li>
</ul>
<p><strong>容器的属性</strong>：</p>
<ul>
<li><code>display</code>定义网格容器：<code>grid</code> &amp; <code>inline-grid</code></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/09/css_doc/001-%E5%B8%83%E5%B1%80-%E4%BC%AA%E5%85%83%E7%B4%A0-CSS3%E5%8A%A8%E7%94%BB-%E5%AE%9E%E6%88%98/" data-id="cmbs36xuu0005ywsdd62sfuw4" data-title="001-布局-伪元素-CSS3动画-实战" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-others_doc/CNBC金融新闻精听-1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/09/others_doc/CNBC%E9%87%91%E8%9E%8D%E6%96%B0%E9%97%BB%E7%B2%BE%E5%90%AC-1/" class="article-date">
  <time class="dt-published" datetime="2025-06-09T15:59:12.000Z" itemprop="datePublished">2025-06-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CNBC/">CNBC</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/09/others_doc/CNBC%E9%87%91%E8%9E%8D%E6%96%B0%E9%97%BB%E7%B2%BE%E5%90%AC-1/">CNBC金融新闻精听</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>And Berry,you sound more upbeat on the market and the prospects of the economy, then the last few times we’ve spoken.What’s changed?<br>  Well, the biggest thing that’s changed is the market doesn’t seem to think that there’s anything to hold it back<br>… that the Federal Reserve (is) doing what it’s doing; the stimulus has been pouring out.<br>  I would say that we are gonna see some volatility. It’s not that I don’t think that that exist.<br>  But it’s more of a rotation than anything else.  The rotation to small, to cyclicals, we like names like Caterpillar on the infrastructure side.</p>
<p>upbeat on&#x2F;about  sth.    upbeat乐观的<br>the prospects for sth.  对某事的展望<br>hold it back 拖住<br>Federal Reserve 美联储 （monetary policy ，fiscal policy，interest rate）<br>stimulus 刺激；激励<br>pouring out 涌出<br>volatility 动荡<br>rotation 资金轮转<br>small-cap(capitalization) stocks<br>cyclicals 周期性股票<br>caterpillar 毛毛虫；此处指美建材公司名</p>
<p>Inauguration of President Joe Biden was orderly and uneventful, removing at least a modest level of apprehension among some investors, though in fact, the market has been rather unflappable in general since late October. Attention turns now to whether the universally expected fiscal spending boost and vaccine-aided economic revival occur on time to the satisfaction of investors who’ve been positioning for this exact scenario to unfold for more than two months.</p>
<p>orderly 有条不紊的<br>uneventful 没什么事发生的，比较平静的<br>modest 适度的    a modest level of sth.<br>apprehension 担忧;理解<br>flap v. 激动不安<br>unflappable 镇定的<br>in general 大体上<br>universally expected 全民期待的 拓展：adv.+adj.&#x2F;done.  universally true&#x2F;accepted<br>fiscal spending 财政支出<br>boost 刺激<br>vaccine-aided 被疫苗帮助的；拓展：mite-infested disease 被螨虫感染的疾病<br>revival n. 复苏 revive v. 复苏<br>to the satisfaction of 为了满足……的期待<br>position– To buy or sell securities in order to establish a net long or a net short position.<br>have been positioning 一直在做准备<br>scenario 情境（还没有成真的事）<br>unfold发生</p>
<p>The record-low supply of homes for sale right now has buyers outbidding each other.  Some homes are going for far more than their listed, but only if they have what today’s buyer wants.  January isn’t usually a hot time for housing. But the pandemic has upended everything, even seasonality.  This house, which was beautifully staged, sold in a matter of days. And another one, also-well staged down the block, went on the market last weekend and by Tuesday had eight offers.</p>
<p>record-high&#x2F;low 历史新高&#x2F;低<br>for sale 待售 (usually by or on behalf of the owners)<br>on sale– esp. of goods in shops<br>outbid sb. 出价高过别人<br>bid (a price) for sth.<br>have sb doing sth.–cause sb to do<br>have sb do–arrange for sb to do<br>go for something–to be sold for a particular amount of money<br>eg. We expect the house to go for about £200,000.<br>listed 原文中指listed price or listing price<br>today‘s buyer 群体<br>a hot time 旺季<br>housing 住房市场<br>the pandemic 此处特指新冠（流行病）<br>upend 颠倒<br>seasonality 季节性<br>stage 为了把房子卖出去重新装修<br>in matter of 至多，还不到<br>block 路口<br>down the block 沿着街区这条路往下走<br>offer 出价</p>
<p>Private payrolls drop by 123,000 in December.<br>That breaks a 7-month spree of job growth.<br>So we need to watch this very carefully and see whether or not that drop in hiring is reflected in the overall government figures when they come out.<br>Tesla got a price target upgrade today at Morgan Stanley.<br>They think those shares could climb to $810 per share.<br>We will keep you posted.<br>I’m Sue Herera, CNBC business news.</p>
<p>payroall n. 企业工资单；工资券；通常代指企业人数<br>private payrolls-&gt;private non-farm payroll 排除政府所有非营利企业后的就业人数<br>spree n.狂欢  e.g.:shopping spree<br>is reflected in sth.<br>a price targe upgrade 股票目标价格上涨<br>share [economy] 股份<br>keep sb. posted  &#x3D;keep sb. updated&#x3D;keep sb.abreast【使某人不断获得某件事最新的发展】</p>
<p>Hi, everybody, I’m  Sue Herral, Cnbc business news.<br>The Dow hit a record high, the Russel 2000 did as well today.<br>They are watching the Georgia election’s Democratic control of the Senate.  If indeed that does happen, under a Biden administration, it may mean more stimulus checks coming for individuals and small businesses. And the market views that as very bullish.  We don’t know however, how that Georgia election has turned out yet.</p>
<p>The Dow&#x2F;Dow Jones -&gt; Dow Jones Industrial Average 道琼斯工业平均指数<br>Russel 2000 Index<br>the Geogia election 乔治亚州选举<br>bullish n.牛；（特指）公牛；这里指牛市的；利好的     牛市-&gt;bull market(bullish market)<br>views sth.as… 把某事看作是什么样的<br>turn out 出结果<br>the Senate参议院</p>
<p>Legislative （makes laws）立法机关<br>|——Congress 国会<br>|——Senate 参议院<br>|——House of Representatives 众议院<br>Executive (carries out laws)行政机关<br>|——President 总统<br>|——Vice President 候选总统<br>|——Cabinet 内阁<br>Judicial (evaluates laws)司法机关<br>|——Supreme Count 最高法院<br>|——Other Federal Counts 其他联邦法院</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/09/others_doc/CNBC%E9%87%91%E8%9E%8D%E6%96%B0%E9%97%BB%E7%B2%BE%E5%90%AC-1/" data-id="cmbs36xuv0006ywsd0twc1nt3" data-title="CNBC金融新闻精听" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CNBC-Finance/" rel="tag">CNBC Finance</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-data_structiure_and_algorithms_doc/algorithms_solution_doc/001-编辑距离（DP）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/001-%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB%EF%BC%88DP%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2025-06-11T15:05:39.983Z" itemprop="datePublished">2025-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="编辑距离超详细解析"><a href="#编辑距离超详细解析" class="headerlink" title="编辑距离超详细解析"></a>编辑距离超详细解析</h1><p>编辑距离确实是个有点抽象的概念，别着急，我会用最直观的方式帮你彻底理解它。我们就像玩游戏一样，一步步拆解这个过程。</p>
<h2 id="1-什么是编辑距离？"><a href="#1-什么是编辑距离？" class="headerlink" title="1. 什么是编辑距离？"></a>1. 什么是编辑距离？</h2><p>编辑距离是衡量两个字符串相似程度的重要指标，表示将一个字符串转换成另一个字符串所需的最少单字符编辑操作次数（插入、删除或替换）</p>
<p>想象你有两个单词：</p>
<ul>
<li>原单词：”horse”</li>
<li>目标单词：”ros”</li>
</ul>
<p>编辑距离就是<strong>把”horse”变成”ros”最少需要几步操作</strong>。允许的操作有三种：</p>
<ol>
<li><strong>插入</strong>一个字符（比如插入’s’）</li>
<li><strong>删除</strong>一个字符（比如删除’h’）</li>
<li><strong>替换</strong>一个字符（比如把’h’换成’r’）</li>
</ol>
<p>动态规划解法&#x20;</p>
<p>基本思路&#x20;</p>
<p>我们使用一个二维数组 dp 来存储子问题的解，其中 dp[i][j] 表示将 word1 的前 i 个字符转换为 word2 的前 j 个字符所需的最小操作次数。</p>
<p>JavaScript 实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">minDistance</span>(<span class="params">word1, word2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> m = word1.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">const</span> n = word2.<span class="property">length</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 创建DP表 (m+1) x (n+1)</span></span><br><span class="line">    <span class="keyword">const</span> dp = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123; <span class="attr">length</span>: m + <span class="number">1</span> &#125;, <span class="function">() =&gt;</span> <span class="title class_">Array</span>(n + <span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 初始化边界条件</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        dp[i][<span class="number">0</span>] = i; <span class="comment">// 将word1前i个字符变为空串需要i次删除</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt;= n; j++) &#123;</span><br><span class="line">        dp[<span class="number">0</span>][j] = j; <span class="comment">// 将空串变为word2前j个字符需要j次插入</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 填充DP表</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (word1[i - <span class="number">1</span>] === word2[j - <span class="number">1</span>]) &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>]; <span class="comment">// 字符相同，无需操作</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                dp[i][j] = <span class="title class_">Math</span>.<span class="title function_">min</span>(</span><br><span class="line">                    dp[i - <span class="number">1</span>][j] + <span class="number">1</span>,     <span class="comment">// 删除word1[i]</span></span><br><span class="line">                    dp[i][j - <span class="number">1</span>] + <span class="number">1</span>,     <span class="comment">// 插入word2[j]</span></span><br><span class="line">                    dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span> <span class="comment">// 替换word1[i]为word2[j]</span></span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> dp[m][n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-最直观的解法演示"><a href="#2-最直观的解法演示" class="headerlink" title="2. 最直观的解法演示"></a>2. 最直观的解法演示</h2><p>让我们手动计算把”horse”变成”ros”的步骤：</p>
<h3 id="方法一："><a href="#方法一：" class="headerlink" title="方法一："></a>方法一：</h3><ol>
<li>horse → rorse （把h替换成r）</li>
<li>rorse → rose （删除第二个r）</li>
<li>rose → ros （删除e）<br>总共：3步</li>
</ol>
<h3 id="方法二："><a href="#方法二：" class="headerlink" title="方法二："></a>方法二：</h3><ol>
<li>horse → orse （删除h）</li>
<li>orse → rse （把o替换成r）</li>
<li>rse → ros （把s替换成o，e替换成s）<br>总共：4步</li>
</ol>
<p>显然第一种方法更好，编辑距离就是最小的3。</p>
<h2 id="3-为什么需要动态规划？"><a href="#3-为什么需要动态规划？" class="headerlink" title="3. 为什么需要动态规划？"></a>3. 为什么需要动态规划？</h2><p>手动计算简单，但计算机需要系统的方法。动态规划就是：</p>
<ul>
<li>把大问题拆成小问题</li>
<li>记录已经解决的子问题</li>
<li>避免重复计算</li>
</ul>
<h2 id="4-DP表格超详细构建（以”horse”和”ros”为例）"><a href="#4-DP表格超详细构建（以”horse”和”ros”为例）" class="headerlink" title="4. DP表格超详细构建（以”horse”和”ros”为例）"></a>4. DP表格超详细构建（以”horse”和”ros”为例）</h2><p>我们建立一个表格，行是”horse”+空字符，列是”ros”+空字符：</p>
<pre><code>    &#39;&#39; r o s
&#39;&#39; [ , , , ]
h  [ , , , ]
o  [ , , , ]
r  [ , , , ]
s  [ , , , ]
e  [ , , , ]
</code></pre>
<h3 id="第一步：初始化边界"><a href="#第一步：初始化边界" class="headerlink" title="第一步：初始化边界"></a>第一步：初始化边界</h3><p><strong>第一行</strong>：空字符串变成”ros”各阶段需要多少步？</p>
<ul>
<li>‘’→’’：0步</li>
<li>‘’→’r’：插入r（1步）</li>
<li>‘’→’ro’：插入r+o（2步）</li>
<li>‘’→’ros’：插入r+o+s（3步）</li>
</ul>
<p><strong>第一列</strong>：”horse”各阶段变成空字符串需要多少步？</p>
<ul>
<li>‘’→’’：0步</li>
<li>‘h’→’’：删除h（1步）</li>
<li>‘ho’→’’：删除h+o（2步）</li>
<li>…</li>
<li>‘horse’→’’：删除h+o+r+s+e（5步）</li>
</ul>
<p>填入后表格：</p>
<pre><code>    &#39;&#39; r o s
&#39;&#39; [0,1,2,3]
h  [1, , , ]
o  [2, , , ]
r  [3, , , ]
s  [4, , , ]
e  [5, , , ]
</code></pre>
<h3 id="第二步：填充其他格子"><a href="#第二步：填充其他格子" class="headerlink" title="第二步：填充其他格子"></a>第二步：填充其他格子</h3><p><strong>规则</strong>：</p>
<ol>
<li>如果当前字符相同：取左上角的值（因为不需要操作）</li>
<li>如果不同：取左、上、左上三个值中的最小值+1</li>
</ol>
<p><strong>让我们填充几个关键格子</strong>：</p>
<h4 id="1-1-位置：’h’→’r’"><a href="#1-1-位置：’h’→’r’" class="headerlink" title="(1,1)位置：’h’→’r’"></a>(1,1)位置：’h’→’r’</h4><ul>
<li>字符’h’≠’r’</li>
<li>看：<ul>
<li>左：’’→’r’&#x3D;1（插入）</li>
<li>上：’h’→’’&#x3D;1（删除）</li>
<li>左上：’’→’’&#x3D;0（替换）</li>
</ul>
</li>
<li>最小值0+1&#x3D;1</li>
<li>所以dp[1][1]&#x3D;1（表示’h’→’r’最少需要1步：替换）</li>
</ul>
<h4 id="2-2-位置：’ho’→’ro’"><a href="#2-2-位置：’ho’→’ro’" class="headerlink" title="(2,2)位置：’ho’→’ro’"></a>(2,2)位置：’ho’→’ro’</h4><ul>
<li>最后一个字符’o’&#x3D;&#x3D;’o’</li>
<li>直接取左上角的值dp[1][1]&#x3D;1</li>
<li>因为最后一个字符相同，不需要额外操作</li>
</ul>
<h4 id="5-3-位置：’horse’→’ros’"><a href="#5-3-位置：’horse’→’ros’" class="headerlink" title="(5,3)位置：’horse’→’ros’"></a>(5,3)位置：’horse’→’ros’</h4><ul>
<li>最后一个字符’e’≠’s’</li>
<li>看：<ul>
<li>左：’hors’→’ros’&#x3D;3（插入’s’）</li>
<li>上：’horse’→’ro’&#x3D;4（删除’e’）</li>
<li>左上：’hors’→’ro’&#x3D;2（替换’e’→’s’）</li>
</ul>
</li>
<li>最小值2+1&#x3D;3</li>
</ul>
<h3 id="最终完整表格："><a href="#最终完整表格：" class="headerlink" title="最终完整表格："></a>最终完整表格：</h3><pre><code>    &#39;&#39; r o s
&#39;&#39; [0,1,2,3]
h  [1,1,2,3]
o  [2,2,1,2]
r  [3,2,2,2]
s  [4,3,3,2]
e  [5,4,4,3]
</code></pre>
<p>右下角的3就是最终答案！</p>
<h2 id="5-为什么这样计算？"><a href="#5-为什么这样计算？" class="headerlink" title="5. 为什么这样计算？"></a>5. 为什么这样计算？</h2><p>每个格子都代表一个子问题的最优解：</p>
<ul>
<li><strong>从左来</strong>：相当于插入当前列对应的字符</li>
<li><strong>从上来</strong>：相当于删除当前行对应的字符</li>
<li><strong>从左上角来</strong>：相当于替换（如果不同）或保留（如果相同）</li>
</ul>
<h2 id="6-代码逐步对应"><a href="#6-代码逐步对应" class="headerlink" title="6. 代码逐步对应"></a>6. 代码逐步对应</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">minDistance</span>(<span class="params">word1, word2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> m = word1.<span class="property">length</span>, n = word2.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">const</span> dp = <span class="title class_">Array</span>(m+<span class="number">1</span>).<span class="title function_">fill</span>().<span class="title function_">map</span>(<span class="function">() =&gt;</span> <span class="title class_">Array</span>(n+<span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 初始化第一行和第一列</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;=m; i++) dp[i][<span class="number">0</span>] = i; <span class="comment">// 删除i次</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>; j&lt;=n; j++) dp[<span class="number">0</span>][j] = j; <span class="comment">// 插入j次</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>; i&lt;=m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">1</span>; j&lt;=n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(word1[i-<span class="number">1</span>] === word2[j-<span class="number">1</span>]) &#123;</span><br><span class="line">                dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>]; <span class="comment">// 字符相同，直接继承</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                dp[i][j] = <span class="title class_">Math</span>.<span class="title function_">min</span>(</span><br><span class="line">                    dp[i-<span class="number">1</span>][j] + <span class="number">1</span>,   <span class="comment">// 删除word1[i]</span></span><br><span class="line">                    dp[i][j-<span class="number">1</span>] + <span class="number">1</span>,   <span class="comment">// 插入word2[j]</span></span><br><span class="line">                    dp[i-<span class="number">1</span>][j-<span class="number">1</span>] + <span class="number">1</span> <span class="comment">// 替换</span></span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[m][n]; <span class="comment">// 右下角的值就是结果</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-常见疑问解答"><a href="#7-常见疑问解答" class="headerlink" title="7. 常见疑问解答"></a>7. 常见疑问解答</h2><p><strong>Q：为什么表格要比字符串长度多1？</strong><br>A：因为要考虑空字符串的情况，这是动态规划的边界条件。</p>
<p><strong>Q：如何知道具体进行了哪些操作？</strong><br>A：可以反向追踪dp表：</p>
<ol>
<li>从右下角开始</li>
<li>比较当前值与左、上、左上值</li>
<li>找到使当前值产生的路径</li>
</ol>
<p><strong>Q：时间复杂度能优化吗？</strong><br>A：空间可以优化到O(n)（只用两行），但时间必须O(m*n)，因为要填满整个表格。</p>
<h2 id="8-实战练习"><a href="#8-实战练习" class="headerlink" title="8. 实战练习"></a>8. 实战练习</h2><p>试试计算”intention”和”execution”的编辑距离：</p>
<ul>
<li>先建一个9x9的表格（包括空字符串）</li>
<li>按照上述规则填充</li>
<li>你会发现答案是5</li>
</ul>
<p>通过这样一步步拆解，你应该对编辑距离有了更直观的理解。动态规划的关键就是找到子问题之间的关系，并用表格记录下来避免重复计算。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/001-%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB%EF%BC%88DP%EF%BC%89/" data-id="cmbs36xv5001eywsd6dd499ov" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-data_structiure_and_algorithms_doc/algorithms_solution_doc/002-最长回文子串（DP）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/002-%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2%EF%BC%88DP%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2025-06-11T15:06:04.994Z" itemprop="datePublished">2025-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="最长回文子串"><a href="#最长回文子串" class="headerlink" title="最长回文子串"></a><strong><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-palindromic-substring/">最长回文子串</a></strong></h3><p>给你一个字符串 <code>s</code>，找到 <code>s</code> 中最长的 回文 子串。</p>
<p><strong>示例 1：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">输入：s = &quot;babad&quot;</span><br><span class="line">输出：&quot;bab&quot;</span><br><span class="line">解释：&quot;aba&quot; 同样是符合题意的答案。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>示例 2：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：s = &quot;cbbd&quot;</span><br><span class="line">输出：&quot;bb&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>提示：</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 1000</code></li>
<li><code>s</code> 仅由数字和英文字母组成</li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a><strong>Solution</strong></h3><h3 id="复杂度分析"><a href="#复杂度分析" class="headerlink" title="复杂度分析"></a>复杂度分析</h3><ul>
<li>时间复杂度：O(n²)，其中n是字符串的长度</li>
<li>空间复杂度：O(1)</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">longestPalindrome</span>(<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!s || s.<span class="property">length</span> === <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> start = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> end = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; s.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> len1 = <span class="title function_">expandAroundCenter</span>(s, i, i);      <span class="comment">// 奇数长度回文</span></span><br><span class="line">        <span class="keyword">const</span> len2 = <span class="title function_">expandAroundCenter</span>(s, i, i + <span class="number">1</span>);  <span class="comment">// 偶数长度回文</span></span><br><span class="line">        <span class="keyword">const</span> maxLen = <span class="title class_">Math</span>.<span class="title function_">max</span>(len1, len2);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (maxLen &gt; end - start) &#123;</span><br><span class="line">            start = i - <span class="title class_">Math</span>.<span class="title function_">floor</span>((maxLen - <span class="number">1</span>) / <span class="number">2</span>);</span><br><span class="line">            end = i + <span class="title class_">Math</span>.<span class="title function_">floor</span>(maxLen / <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> s.<span class="title function_">substring</span>(start, end + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">expandAroundCenter</span>(<span class="params">s, left, right</span>) &#123;</span><br><span class="line">    <span class="keyword">while</span> (left &gt;= <span class="number">0</span> &amp;&amp; right &lt; s.<span class="property">length</span> &amp;&amp; s[left] === s[right]) &#123;</span><br><span class="line">        left--;</span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> right - left - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">ight++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> right - left - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="用最简单的方式理解动态规划解法"><a href="#用最简单的方式理解动态规划解法" class="headerlink" title="用最简单的方式理解动态规划解法"></a>用最简单的方式理解动态规划解法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findLength</span>(<span class="params">nums1, nums2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> m = nums1.<span class="property">length</span>, n = nums2.<span class="property">length</span>;</span><br><span class="line">    <span class="comment">// 创建DP表，多一行一列方便处理边界条件</span></span><br><span class="line">    <span class="keyword">const</span> dp = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123;<span class="attr">length</span>: m + <span class="number">1</span>&#125;, <span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="title class_">Array</span>(n + <span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">let</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="comment">// 如果当前元素相同，则长度为左上角值+1</span></span><br><span class="line">            <span class="keyword">if</span> (nums1[i-<span class="number">1</span>] === nums2[j-<span class="number">1</span>]) &#123;</span><br><span class="line">                dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                maxLen = <span class="title class_">Math</span>.<span class="title function_">max</span>(maxLen, dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 不同时保持0（因为是子数组，不是子序列）</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>让我用最直白的方式重新解释这个动态规划解法，保证你能看懂！</p>
<h2 id="举个生活中的例子"><a href="#举个生活中的例子" class="headerlink" title="举个生活中的例子"></a>举个生活中的例子</h2><p>想象你有两条珠子串（数组），你要找出两条珠串中连续相同珠子排列的最长一段。</p>
<p>比如：</p>
<ul>
<li>珠串A：红-蓝-绿-蓝-红</li>
<li>珠串B：绿-蓝-红-黄-紫</li>
</ul>
<p>最长的相同连续排列是”绿-蓝-红”，长度为3。</p>
<h2 id="动态规划表格的直观理解"><a href="#动态规划表格的直观理解" class="headerlink" title="动态规划表格的直观理解"></a>动态规划表格的直观理解</h2><p>我们创建一个表格，行代表珠串A的每个珠子，列代表珠串B的每个珠子。表格每个格子记录的是：<strong>以这两个珠子结尾的相同连续排列的长度</strong>。</p>
<p>初始表格（第一行和第一列都是0）：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th>绿</th>
<th>蓝</th>
<th>红</th>
<th>黄</th>
<th>紫</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>红</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>蓝</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>绿</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>蓝</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>红</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="填表规则（超级重要！）"><a href="#填表规则（超级重要！）" class="headerlink" title="填表规则（超级重要！）"></a>填表规则（超级重要！）</h2><p><strong>规则</strong>：只有当两个珠子相同时才填数字，数字 &#x3D; 左上角格子的数字 + 1</p>
<ol>
<li>比较红(珠串A)和绿(珠串B) → 不同 → 填0</li>
<li>比较红和蓝 → 不同 → 填0</li>
<li>比较红和红 → 相同 → 看左上角是0 → 填0+1&#x3D;1</li>
<li>比较蓝和绿 → 不同 → 填0</li>
<li>比较蓝和蓝 → 相同 → 左上角是0 → 填0+1&#x3D;1</li>
<li>比较绿和绿 → 相同 → 左上角是0 → 填0+1&#x3D;1</li>
<li>比较蓝和蓝 → 相同 → 左上角是1 → 填1+1&#x3D;2</li>
<li>比较红和红 → 相同 → 左上角是2 → 填2+1&#x3D;3</li>
</ol>
<p>填完后的表格：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th>绿</th>
<th>蓝</th>
<th>红</th>
<th>黄</th>
<th>紫</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>红</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>蓝</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>绿</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>蓝</td>
<td>0</td>
<td>0</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>红</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>3</td>
<td>0</td>
<td>0</td>
</tr>
</tbody></table>
<h2 id="为什么这样填表？"><a href="#为什么这样填表？" class="headerlink" title="为什么这样填表？"></a>为什么这样填表？</h2><p>因为我们要找的是<strong>连续的相同排列</strong>：</p>
<ul>
<li>当两个珠子相同时，说明可以延续前面的相同排列</li>
<li>数字表示”当前连续相同的长度”</li>
<li>左上角的数字表示”不算当前珠子时的长度”</li>
</ul>
<h2 id="找出最大值"><a href="#找出最大值" class="headerlink" title="找出最大值"></a>找出最大值</h2><p>扫描整个表格，最大的数字是3，这就是我们要找的最长长度。</p>
<p>对应的相同排列：</p>
<ul>
<li>从数字3倒推：红(珠串A)和红(珠串B) → 蓝和蓝 → 绿和绿</li>
<li>所以是”绿-蓝-红”</li>
</ul>
<h2 id="代码对应关系"><a href="#代码对应关系" class="headerlink" title="代码对应关系"></a>代码对应关系</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (nums1[i-<span class="number">1</span>] === nums2[j-<span class="number">1</span>]) &#123;</span><br><span class="line">    dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>] + <span class="number">1</span>; <span class="comment">// 左上角值+1</span></span><br><span class="line">    maxLen = <span class="title class_">Math</span>.<span class="title function_">max</span>(maxLen, dp[i][j]); <span class="comment">// 更新最大值</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 不同时默认为0</span></span><br></pre></td></tr></table></figure>

<h2 id="总结记忆口诀"><a href="#总结记忆口诀" class="headerlink" title="总结记忆口诀"></a>总结记忆口诀</h2><ol>
<li>建表格，行列各加1（方便计算）</li>
<li>相同就取左上+1</li>
<li>不同就写0</li>
<li>随时记录最大值</li>
<li>最后返回最大值</li>
</ol>
<p>这样理解是不是清楚多了？动态规划其实就是用表格记录中间结果，避免重复计算！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/002-%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2%EF%BC%88DP%EF%BC%89/" data-id="cmbs36xv6001jywsd10jodx8a" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-data_structiure_and_algorithms_doc/algorithms_solution_doc/003-无重复字符最长字串（滑动窗口）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/003-%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E6%9C%80%E9%95%BF%E5%AD%97%E4%B8%B2%EF%BC%88%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2025-06-11T15:06:09.076Z" itemprop="datePublished">2025-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="无重复字符的最长子串"><a href="#无重复字符的最长子串" class="headerlink" title="无重复字符的最长子串"></a>无重复字符的最长子串</h1><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>给定一个字符串，找出其中不含有重复字符的最长子串的长度。</p>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><ul>
<li>输入: “abcabcbb”<br>输出: 3<br>解释: 因为无重复字符的最长子串是 “abc”，所以其长度为 3。</li>
<li>输入: “bbbbb”<br>输出: 1<br>解释: 因为无重复字符的最长子串是 “b”，所以其长度为 1。</li>
<li>输入: “pwwkew”<br>输出: 3<br>解释: 因为无重复字符的最长子串是 “wke”，所以其长度为 3。</li>
</ul>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><h3 id="滑动窗口法"><a href="#滑动窗口法" class="headerlink" title="滑动窗口法"></a>滑动窗口法</h3><p>这是一个经典的滑动窗口问题。我们可以使用哈希集合来记录当前窗口中的字符，并通过移动窗口的左右边界来寻找最长子串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">lengthOfLongestSubstring</span>(<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> charSet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">    <span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> maxLength = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> right = <span class="number">0</span>; right &lt; s.<span class="property">length</span>; right++) &#123;</span><br><span class="line">        <span class="comment">// 当遇到重复字符时，移动左指针</span></span><br><span class="line">        <span class="keyword">while</span> (charSet.<span class="title function_">has</span>(s[right])) &#123;</span><br><span class="line">            charSet.<span class="title function_">delete</span>(s[left]);</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 添加当前字符到集合</span></span><br><span class="line">        charSet.<span class="title function_">add</span>(s[right]);</span><br><span class="line">        <span class="comment">// 更新最大长度</span></span><br><span class="line">        maxLength = <span class="title class_">Math</span>.<span class="title function_">max</span>(maxLength, right - left + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> maxLength;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="算法分析"><a href="#算法分析" class="headerlink" title="算法分析"></a>算法分析</h3><ul>
<li>时间复杂度：O(n)，其中 n 是字符串的长度。每个字符最多被访问两次（一次被加入集合，一次被移除）。</li>
<li>空间复杂度：O(min(m, n))，其中 m 是字符集的大小。在最坏情况下，我们需要存储整个字符集</li>
</ul>
<h2 id="可视化总结"><a href="#可视化总结" class="headerlink" title="可视化总结"></a>可视化总结</h2><pre><code>a b c a b c b b
[---]           → &quot;abc&quot; (长度3)
  [---]         → &quot;bca&quot; (长度3)
    [---]       → &quot;cab&quot; (长度3)
        [-]     → &quot;cb&quot; (长度2)
          [ ]   → &quot;b&quot; (长度1)
            [ ] → &quot;b&quot; (长度1)
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/003-%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E6%9C%80%E9%95%BF%E5%AD%97%E4%B8%B2%EF%BC%88%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%EF%BC%89/" data-id="cmbs36xv6001mywsdgfw067e9" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-data_structiure_and_algorithms_doc/algorithms_solution_doc/004-三数之和（双指针）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/004-%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C%EF%BC%88%E5%8F%8C%E6%8C%87%E9%92%88%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2025-06-11T15:06:12.695Z" itemprop="datePublished">2025-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="三数之和问题"><a href="#三数之和问题" class="headerlink" title="三数之和问题"></a>三数之和问题</h1><p>三数之和（3Sum）是一个经典的算法问题，通常描述为：给定一个包含 n 个整数的数组 nums，判断 nums 中是否存在三个元素 a, b, c，使得 a + b + c &#x3D; 0？找出所有满足条件且不重复的三元组。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><h3 id="方法一：排序-双指针"><a href="#方法一：排序-双指针" class="headerlink" title="方法一：排序 + 双指针"></a>方法一：排序 + 双指针</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[][]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">threeSum</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="comment">// 1. 首先对数组进行排序</span></span><br><span class="line">    nums.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">    <span class="keyword">const</span> result = [];</span><br><span class="line">    <span class="keyword">const</span> n = nums.<span class="property">length</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. 外层循环，固定第一个数</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n - <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// 3. 跳过重复的第一个数</span></span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums[i] === nums[i - <span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 4. 初始化双指针</span></span><br><span class="line">        <span class="keyword">let</span> left = i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">let</span> right = n - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 5. 内层循环，使用双指针寻找另外两个数</span></span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">const</span> sum = nums[i] + nums[left] + nums[right];</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (sum &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// 6. 和太小，移动左指针增大和</span></span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// 7. 和太大，移动右指针减小和</span></span><br><span class="line">                right--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 8. 找到有效三元组</span></span><br><span class="line">                result.<span class="title function_">push</span>([nums[i], nums[left], nums[right]]);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// 9. 跳过重复的left和right值</span></span><br><span class="line">                <span class="keyword">while</span> (left &lt; right &amp;&amp; nums[left] === nums[left + <span class="number">1</span>]) left++;</span><br><span class="line">                <span class="keyword">while</span> (left &lt; right &amp;&amp; nums[right] === nums[right - <span class="number">1</span>]) right--;</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// 10. 移动指针继续寻找</span></span><br><span class="line">                left++;</span><br><span class="line">                right--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">`</span></span><br></pre></td></tr></table></figure>

<h2 id="算法分析"><a href="#算法分析" class="headerlink" title="算法分析"></a>算法分析</h2><ol>
<li><strong>时间复杂度</strong>：O(n²) - 排序需要 O(n log n)，双指针遍历需要 O(n²)</li>
<li><strong>空间复杂度</strong>：O(1) 或 O(n) - 取决于排序算法的实现</li>
</ol>
<h2 id="关键点总结"><a href="#关键点总结" class="headerlink" title="关键点总结"></a>关键点总结</h2><ol>
<li><p><strong>排序</strong>：使我们可以使用双指针技巧</p>
</li>
<li><p><strong>外层循环</strong>：固定第一个数nums[i]</p>
</li>
<li><p><strong>内层双指针</strong>：</p>
<ul>
<li>left从i+1开始</li>
<li>right从数组末尾开始</li>
</ul>
</li>
<li><p><strong>和的计算</strong>：</p>
<ul>
<li>sum &lt; 0 → 需要更大的数 → left++</li>
<li>sum &gt; 0 → 需要更小的数 → right–</li>
<li>sum &#x3D; 0 → 找到解</li>
</ul>
</li>
<li><p><strong>跳过重复</strong>：确保结果中没有重复的三元组</p>
</li>
</ol>
<p>通过这样一步步的图解，你应该能更清楚地理解三数之和的解法了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/004-%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C%EF%BC%88%E5%8F%8C%E6%8C%87%E9%92%88%EF%BC%89/" data-id="cmbs36xv7001rywsdai8ba3uo" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-data_structiure_and_algorithms_doc/algorithms_solution_doc/005-最长重复子数组（滑动窗口）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/005-%E6%9C%80%E9%95%BF%E9%87%8D%E5%A4%8D%E5%AD%90%E6%95%B0%E7%BB%84%EF%BC%88%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2025-06-11T15:06:17.646Z" itemprop="datePublished">2025-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="最长重复子数组超详细解析（从零开始）"><a href="#最长重复子数组超详细解析（从零开始）" class="headerlink" title="最长重复子数组超详细解析（从零开始）"></a>最长重复子数组超详细解析（从零开始）</h1><p>最长重复子数组问题是指：给定两个整数数组，找出它们中共有的最长子数组的长度。这里的子数组要求是连续的。</p>
<h2 id="1-问题描述"><a href="#1-问题描述" class="headerlink" title="1.问题描述"></a>1.问题描述</h2><p>给定两个整数数组 <code>nums1</code> 和 <code>nums2</code>，返回两个数组中公共的、长度最长的子数组的长度。示例：</p>
<pre><code>输入：nums1 = [1,2,3,2,1], nums2 = [3,2,1,4,7]
输出：3
解释：长度最长的公共子数组是 [3,2,1]。
</code></pre>
<h2 id="2-动态规划解法详解"><a href="#2-动态规划解法详解" class="headerlink" title="2. 动态规划解法详解"></a>2. 动态规划解法详解</h2><h3 id="2-1-为什么用动态规划？"><a href="#2-1-为什么用动态规划？" class="headerlink" title="2.1 为什么用动态规划？"></a>2.1 为什么用动态规划？</h3><p>因为这个问题具有：</p>
<ul>
<li><strong>重叠子问题</strong>：大问题的解依赖小问题的解</li>
<li><strong>最优子结构</strong>：整体最优解包含子问题的最优解</li>
</ul>
<h3 id="2-2-DP表格的含义"><a href="#2-2-DP表格的含义" class="headerlink" title="2.2 DP表格的含义"></a>2.2 DP表格的含义</h3><p>我们创建一个表格，<code>dp[i][j]</code>表示：</p>
<ul>
<li>以<code>nums1[i-1]</code>和<code>nums2[j-1]</code><strong>结尾</strong>的公共子数组的长度</li>
</ul>
<p>注意：<code>i</code>和<code>j</code>从1开始，0行0列表示空数组</p>
<h3 id="2-3-具体步骤（以-1-2-3-2-1-和-3-2-1-4-7-为例）"><a href="#2-3-具体步骤（以-1-2-3-2-1-和-3-2-1-4-7-为例）" class="headerlink" title="2.3 具体步骤（以[1,2,3,2,1]和[3,2,1,4,7]为例）"></a>2.3 具体步骤（以[1,2,3,2,1]和[3,2,1,4,7]为例）</h3><h4 id="第一步：初始化表格"><a href="#第一步：初始化表格" class="headerlink" title="第一步：初始化表格"></a>第一步：初始化表格</h4><p>创建<code>(m+1)×(n+1)</code>的表格，全部填0：</p>
<pre><code>   0 3 2 1 4 7
0 [0,0,0,0,0,0]
1 [0,0,0,0,0,0] 
2 [0,0,0,0,0,0]
3 [0,0,0,0,0,0]
2 [0,0,0,0,0,0]
1 [0,0,0,0,0,0]
</code></pre>
<h4 id="第二步：填充表格"><a href="#第二步：填充表格" class="headerlink" title="第二步：填充表格"></a>第二步：填充表格</h4><p>规则：</p>
<ul>
<li>如果<code>nums1[i-1] == nums2[j-1]</code>，则<code>dp[i][j] = dp[i-1][j-1] + 1</code></li>
<li>否则<code>dp[i][j] = 0</code></li>
</ul>
<p>填充过程：</p>
<ol>
<li><code>nums1[0]=1</code> vs <code>nums2[0]=3</code> → 不相等 → <code>dp[1][1]=0</code></li>
<li><code>nums1[0]=1</code> vs <code>nums2[2]=1</code> → 相等 → <code>dp[1][3] = dp[0][2]+1 = 1</code></li>
<li><code>nums1[1]=2</code> vs <code>nums2[1]=2</code> → 相等 → <code>dp[2][2] = dp[1][1]+1 = 1</code></li>
<li><code>nums1[2]=3</code> vs <code>nums2[0]=3</code> → 相等 → <code>dp[3][1] = dp[2][0]+1 = 1</code></li>
<li>继续这样填完整张表…</li>
</ol>
<h4 id="最终表格："><a href="#最终表格：" class="headerlink" title="最终表格："></a>最终表格：</h4><pre><code>   0 3 2 1 4 7
0 [0,0,0,0,0,0]
1 [0,0,0,1,0,0] 
2 [0,0,1,0,0,0]
3 [0,1,0,0,0,0]
2 [0,0,2,0,0,0]
1 [0,0,0,3,0,0]
</code></pre>
<h4 id="第三步：找最大值"><a href="#第三步：找最大值" class="headerlink" title="第三步：找最大值"></a>第三步：找最大值</h4><p>表格中最大的数字是3，所以最长重复子数组长度是3。</p>
<h3 id="2-4-为什么这样计算？"><a href="#2-4-为什么这样计算？" class="headerlink" title="2.4 为什么这样计算？"></a>2.4 为什么这样计算？</h3><p>因为：</p>
<ul>
<li>当两个数字相等时，它们可以扩展前面的公共子数组</li>
<li><code>dp[i][j] = dp[i-1][j-1] + 1</code>表示”前面的能连多长，我就比它多1”</li>
<li>表格中的数字就像”以这两个位置结尾的公共串长度”</li>
</ul>
<h2 id="3-代码逐行解释"><a href="#3-代码逐行解释" class="headerlink" title="3. 代码逐行解释"></a>3. 代码逐行解释</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findLength</span>(<span class="params">nums1, nums2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> m = nums1.<span class="property">length</span>, n = nums2.<span class="property">length</span>;</span><br><span class="line">    <span class="comment">// 创建(m+1)×(n+1)的表格，初始化为0</span></span><br><span class="line">    <span class="keyword">const</span> dp = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123; <span class="attr">length</span>: m + <span class="number">1</span> &#125;, <span class="function">() =&gt;</span> <span class="title class_">Array</span>(n + <span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">let</span> maxLen = <span class="number">0</span>; <span class="comment">// 记录最大值</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums1[i - <span class="number">1</span>] === nums2[j - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="comment">// 数字相等，长度+1</span></span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// 更新最大值</span></span><br><span class="line">                maxLen = <span class="title class_">Math</span>.<span class="title function_">max</span>(maxLen, dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 不相等时保持0，不用写</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-实际例子演练"><a href="#4-实际例子演练" class="headerlink" title="4. 实际例子演练"></a>4. 实际例子演练</h2><p>让我们用<code>nums1 = [0,1,1,1,1]</code>和<code>nums2 = [1,0,1,0,1]</code>来演练：</p>
<h3 id="4-1-初始化表格"><a href="#4-1-初始化表格" class="headerlink" title="4.1 初始化表格"></a>4.1 初始化表格</h3><p>创建6×6的全0表格</p>
<h3 id="4-2-关键填充步骤："><a href="#4-2-关键填充步骤：" class="headerlink" title="4.2 关键填充步骤："></a>4.2 关键填充步骤：</h3><ol>
<li><code>nums1[0]=0</code> vs <code>nums2[1]=0</code> → <code>dp[1][2] = dp[0][1]+1 = 1</code></li>
<li><code>nums1[2]=1</code> vs <code>nums2[0]=1</code> → <code>dp[3][1] = dp[2][0]+1 = 1</code></li>
<li><code>nums1[2]=1</code> vs <code>nums2[2]=1</code> → <code>dp[3][3] = dp[2][2]+1 = 1</code></li>
<li><code>nums1[3]=1</code> vs <code>nums2[4]=1</code> → <code>dp[4][5] = dp[3][4]+1 = 2</code></li>
<li><code>nums1[4]=1</code> vs <code>nums2[4]=1</code> → <code>dp[5][5] = dp[4][4]+1 = 3</code></li>
</ol>
<h3 id="4-3-最终表格（部分）："><a href="#4-3-最终表格（部分）：" class="headerlink" title="4.3 最终表格（部分）："></a>4.3 最终表格（部分）：</h3><pre><code>dp[4][5] = 2  // 对应[1,1]和[1,1]
dp[5][5] = 3  // 对应[1,1,1]和[1,0,1]中的后两个1
</code></pre>
<p>最大值为2（虽然dp[5][5]&#x3D;3，但实际公共子数组是”1,1”）</p>
<h2 id="5-常见误区"><a href="#5-常见误区" class="headerlink" title="5. 常见误区"></a>5. 常见误区</h2><ol>
<li><p><strong>子数组 vs 子序列</strong>：</p>
<ul>
<li>子数组必须连续</li>
<li>子序列可以不连续</li>
</ul>
</li>
<li><p><strong>初始化为1</strong>：</p>
<ul>
<li>很多人会想”至少长度是1”，但其实应该从0开始</li>
<li>因为<code>dp[i][j]</code>表示的是”以这两个元素结尾”的长度</li>
</ul>
</li>
<li><p><strong>边界条件</strong>：</p>
<ul>
<li>一定要有<code>i=0</code>和<code>j=0</code>的行列</li>
<li>它们代表空数组的情况</li>
</ul>
</li>
</ol>
<h2 id="6-优化思路"><a href="#6-优化思路" class="headerlink" title="6. 优化思路"></a>6. 优化思路</h2><p>实际可以只用一维数组：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findLength</span>(<span class="params">nums1, nums2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> m = nums1.<span class="property">length</span>, n = nums2.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">let</span> dp = <span class="title class_">Array</span>(n + <span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">let</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> current = <span class="title class_">Array</span>(n + <span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums1[i - <span class="number">1</span>] === nums2[j - <span class="number">1</span>]) &#123;</span><br><span class="line">                current[j] = dp[j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                maxLen = <span class="title class_">Math</span>.<span class="title function_">max</span>(maxLen, current[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dp = current;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样空间复杂度从O(mn)降到O(n)。</p>
<h2 id="7-总结关键点"><a href="#7-总结关键点" class="headerlink" title="7. 总结关键点"></a>7. 总结关键点</h2><ol>
<li><code>dp[i][j]</code>表示的是<strong>以nums1[i-1]和nums2[j-1]结尾</strong>的公共子数组长度</li>
<li>只有当两个数字相等时才需要更新值</li>
<li>最大值可能在表格任意位置，需要全程记录</li>
<li>初始化的<code>(m+1)×(n+1)</code>表格中，第0行和第0列都是0</li>
</ol>
<p>通过这样的分解，你应该能完全理解这个问题了。动态规划的关键就是找到这个状态转移方程，然后小心地填充表格。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/005-%E6%9C%80%E9%95%BF%E9%87%8D%E5%A4%8D%E5%AD%90%E6%95%B0%E7%BB%84%EF%BC%88%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%EF%BC%89/" data-id="cmbs36xv90022ywsd53qndoxe" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CNBC/">CNBC</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS/">CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/Openshift/">Openshift</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Principles/">Principles</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Pytorch/">Pytorch</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CNBC-Finance/" rel="tag">CNBC Finance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/" rel="tag">Javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Openshift/" rel="tag">Openshift</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Principles/" rel="tag">Principles</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pytorch/" rel="tag">Pytorch</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CNBC-Finance/" style="font-size: 10px;">CNBC Finance</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Javascript/" style="font-size: 20px;">Javascript</a> <a href="/tags/Openshift/" style="font-size: 10px;">Openshift</a> <a href="/tags/Principles/" style="font-size: 10px;">Principles</a> <a href="/tags/Pytorch/" style="font-size: 15px;">Pytorch</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">June 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/013-%E5%88%86%E5%89%B2%E5%9B%9E%E6%96%87%E4%B8%B2%EF%BC%88%E5%9B%9E%E6%BA%AF%E6%B3%95%EF%BC%89/">(no title)</a>
          </li>
        
          <li>
            <a href="/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/012-%E8%B7%B3%E8%B7%83%E6%B8%B8%E6%88%8F%E8%83%BD%E5%90%A6%E5%88%B0%E7%BB%88%E7%82%B9+%E6%9C%80%E5%B0%8F%E8%B7%B3%E8%B7%83%E6%AC%A1%E6%95%B0%EF%BC%88%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95%EF%BC%89/">(no title)</a>
          </li>
        
          <li>
            <a href="/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/011-%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C%EF%BC%88%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2%EF%BC%88DFS%EF%BC%89%EF%BC%89/">(no title)</a>
          </li>
        
          <li>
            <a href="/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/010-%E4%B8%A4%E4%B8%A4%E4%BA%A4%E6%8D%A2%E9%93%BE%E8%A1%A8%E4%B8%AD%E8%8A%82%E7%82%B9%EF%BC%88%E5%93%91%E8%8A%82%E7%82%B9%EF%BC%89/">(no title)</a>
          </li>
        
          <li>
            <a href="/2025/06/11/data_structiure_and_algorithms_doc/algorithms_solution_doc/009-%E7%9B%9B%E6%9C%80%E5%A4%9A%E6%B0%B4%E7%9A%84%E5%AE%B9%E5%99%A8%EF%BC%88%E5%8F%8C%E6%8C%87%E9%92%88%EF%BC%89/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 EvelynUU<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>